{
  "board_bgtype": "board_graph",
  "board_title": "<%= deployment %> stoplights",
  "canonical_units": {
    "blocks": [
      {
        "scale_factor": 1,
        "plural": "blocks",
        "id": 25,
        "short_name": "blk",
        "name": "block"
      }
    ],
    "buffers": [
      {
        "scale_factor": 1,
        "plural": "buffers",
        "id": 22,
        "short_name": "buff",
        "name": "buffer"
      }
    ],
    "bytes": [
      {
        "scale_factor": 0.125,
        "plural": "bits",
        "id": 1,
        "short_name": "b",
        "name": "bit"
      },
      {
        "scale_factor": 1,
        "plural": "bytes",
        "id": 2,
        "short_name": "B",
        "name": "byte"
      },
      {
        "scale_factor": 1024,
        "plural": "kibibytes",
        "id": 3,
        "short_name": "KiB",
        "name": "kibibyte"
      },
      {
        "scale_factor": 1048576,
        "plural": "mebibytes",
        "id": 4,
        "short_name": "MiB",
        "name": "mebibyte"
      },
      {
        "scale_factor": 1073741824,
        "plural": "gibibytes",
        "id": 5,
        "short_name": "GiB",
        "name": "gibibyte"
      },
      {
        "scale_factor": 1099511627776,
        "plural": "tebibytes",
        "id": 6,
        "short_name": "TiB",
        "name": "tebibyte"
      },
      {
        "scale_factor": 1125899906842620,
        "plural": "pebibytes",
        "id": 7,
        "short_name": "PiB",
        "name": "pebibyte"
      },
      {
        "scale_factor": 1152921504606850000,
        "plural": "exbibytes",
        "id": 8,
        "short_name": "EiB",
        "name": "exbibyte"
      }
    ],
    "cents": [
      {
        "scale_factor": 1,
        "plural": "cents",
        "id": 43,
        "short_name": "Â¢",
        "name": "cent"
      }
    ],
    "connections": [
      {
        "scale_factor": 1,
        "plural": "connections",
        "id": 18,
        "short_name": "conn",
        "name": "connection"
      }
    ],
    "cores": [
      {
        "scale_factor": 1,
        "plural": "cores",
        "id": 31,
        "short_name": null,
        "name": "core"
      }
    ],
    "dollars": [
      {
        "scale_factor": 1,
        "plural": "dollars",
        "id": 42,
        "short_name": "$",
        "name": "dollar"
      }
    ],
    "errors": [
      {
        "scale_factor": 1,
        "plural": "errors",
        "id": 44,
        "short_name": "err",
        "name": "error"
      }
    ],
    "evictions": [
      {
        "scale_factor": 1,
        "plural": "evictions",
        "id": 41,
        "short_name": null,
        "name": "eviction"
      }
    ],
    "files": [
      {
        "scale_factor": 1,
        "plural": "files",
        "id": 21,
        "short_name": null,
        "name": "file"
      }
    ],
    "hits": [
      {
        "scale_factor": 1,
        "plural": "hits",
        "id": 39,
        "short_name": "hit",
        "name": "hit"
      }
    ],
    "indices": [
      {
        "scale_factor": 1,
        "plural": "indices",
        "id": 34,
        "short_name": "idx",
        "name": "index"
      }
    ],
    "inodes": [
      {
        "scale_factor": 1,
        "plural": "inodes",
        "id": 23,
        "short_name": null,
        "name": "inode"
      }
    ],
    "locks": [
      {
        "scale_factor": 1,
        "plural": "locks",
        "id": 35,
        "short_name": null,
        "name": "lock"
      }
    ],
    "messages": [
      {
        "scale_factor": 1,
        "plural": "messages",
        "id": 29,
        "short_name": "msg",
        "name": "message"
      }
    ],
    "misses": [
      {
        "scale_factor": 1,
        "plural": "misses",
        "id": 40,
        "short_name": null,
        "name": "miss"
      }
    ],
    "packets": [
      {
        "scale_factor": 1,
        "plural": "packets",
        "id": 26,
        "short_name": "pkt",
        "name": "packet"
      }
    ],
    "payloads": [
      {
        "scale_factor": 1,
        "plural": "payloads",
        "id": 30,
        "short_name": null,
        "name": "payload"
      }
    ],
    "percentage": [
      {
        "scale_factor": 1,
        "plural": "percent",
        "id": 17,
        "short_name": "%",
        "name": "percent"
      },
      {
        "scale_factor": 100,
        "plural": "fractions",
        "id": 16,
        "short_name": null,
        "name": "fraction"
      }
    ],
    "processes": [
      {
        "scale_factor": 1,
        "plural": "processes",
        "id": 20,
        "short_name": "proc",
        "name": "process"
      }
    ],
    "queries": [
      {
        "scale_factor": 1,
        "plural": "queries",
        "id": 37,
        "short_name": null,
        "name": "query"
      }
    ],
    "requests": [
      {
        "scale_factor": 1,
        "plural": "requests",
        "id": 19,
        "short_name": "req",
        "name": "request"
      }
    ],
    "responses": [
      {
        "scale_factor": 1,
        "plural": "responses",
        "id": 28,
        "short_name": "resp",
        "name": "response"
      }
    ],
    "rows": [
      {
        "scale_factor": 1,
        "plural": "rows",
        "id": 38,
        "short_name": "row",
        "name": "row"
      }
    ],
    "sectors": [
      {
        "scale_factor": 1,
        "plural": "sectors",
        "id": 24,
        "short_name": null,
        "name": "sector"
      }
    ],
    "segments": [
      {
        "scale_factor": 1,
        "plural": "segments",
        "id": 27,
        "short_name": "seg",
        "name": "segment"
      }
    ],
    "tables": [
      {
        "scale_factor": 1,
        "plural": "tables",
        "id": 33,
        "short_name": null,
        "name": "table"
      }
    ],
    "threads": [
      {
        "scale_factor": 1,
        "plural": "threads",
        "id": 32,
        "short_name": null,
        "name": "thread"
      }
    ],
    "time": [
      {
        "scale_factor": 0.001,
        "plural": "milliseconds",
        "id": 10,
        "short_name": "ms",
        "name": "millisecond"
      },
      {
        "scale_factor": 1,
        "plural": "seconds",
        "id": 11,
        "short_name": "s",
        "name": "second"
      },
      {
        "scale_factor": 1.0e-06,
        "plural": "microseconds",
        "id": 9,
        "short_name": "us",
        "name": "microsecond"
      },
      {
        "scale_factor": 3600,
        "plural": "hours",
        "id": 13,
        "short_name": "h",
        "name": "hour"
      },
      {
        "scale_factor": 60,
        "plural": "minutes",
        "id": 12,
        "short_name": "m",
        "name": "minute"
      },
      {
        "scale_factor": 604800,
        "plural": "weeks",
        "id": 15,
        "short_name": "w",
        "name": "week"
      },
      {
        "scale_factor": 86400,
        "plural": "days",
        "id": 14,
        "short_name": "d",
        "name": "day"
      }
    ],
    "transactions": [
      {
        "scale_factor": 1,
        "plural": "transactions",
        "id": 36,
        "short_name": "tx",
        "name": "transaction"
      }
    ]
  },
  "height": 161,
  "original_title": "<%= deployment %> stoplights",
  "read_only": false,
  "shared": false,
  "template_variables": [
    {
      "default": "*",
      "prefix": null,
      "name": "var"
    }
  ],
  "templated": true,
  "title_edited": false,
  "widgets": [
    {
      "autoscale": true,
      "title_size": 16,
      "title": true,
      "title_align": "center",
      "title_text": "Prod CF Lock",
      "height": 4,
      "tile_def": {
        "autoscale": false,
        "custom_unit": null,
        "text_align": "right",
        "precision": "0",
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:cloudops.deployment_locks.status{environment:<%= environment %>,deployment:cf}",
            "aggregator": "last",
            "conditional_formats": [
              {
                "custom_bg_color": "#0215ff",
                "palette": "custom_bg",
                "value": 0.5,
                "comparator": ">="
              },
              {
                "palette": "white_on_green",
                "comparator": "<=",
                "value": 0.5
              }
            ]
          }
        ]
      },
      "width": 14,
      "timeframe": "1mo",
      "y": 73,
      "x": 90,
      "legend_size": "0",
      "type": "query_value",
      "legend": false
    },
    {
      "autoscale": true,
      "title_size": 16,
      "title": true,
      "title_align": "center",
      "title_text": "Prod Diego Lock",
      "height": 4,
      "tile_def": {
        "autoscale": false,
        "custom_unit": null,
        "text_align": "right",
        "precision": "0",
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:cloudops.deployment_locks.status{environment:<%= environment %>,deployment:diego}",
            "aggregator": "last",
            "conditional_formats": [
              {
                "custom_bg_color": "#0215ff",
                "palette": "custom_bg",
                "value": 0.5,
                "comparator": ">="
              },
              {
                "palette": "white_on_green",
                "comparator": "<=",
                "value": 0.5
              }
            ]
          }
        ]
      },
      "width": 14,
      "timeframe": "1mo",
      "y": 73,
      "x": 104,
      "legend_size": "0",
      "type": "query_value",
      "legend": false
    },
    {
      "autoscale": true,
      "title_size": 16,
      "title": true,
      "title_align": "center",
      "title_text": "Prod Microbosh Lock",
      "height": 4,
      "tile_def": {
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:cloudops.deployment_locks.status{environment:<%= environment %>,deployment:micro-bosh}",
            "aggregator": "last",
            "conditional_formats": [
              {
                "custom_bg_color": "#0215ff",
                "palette": "custom_bg",
                "value": 0.5,
                "comparator": ">="
              },
              {
                "palette": "white_on_green",
                "comparator": "<=",
                "value": 0.5
              }
            ]
          }
        ],
        "text_align": "right",
        "precision": "0",
        "custom_unit": null
      },
      "width": 14,
      "timeframe": "1mo",
      "y": 79,
      "x": 104,
      "legend_size": "0",
      "type": "query_value",
      "legend": false
    },
    {
      "autoscale": true,
      "title_size": 16,
      "title": true,
      "title_align": "center",
      "title_text": "Prod MySQL Lock",
      "height": 4,
      "tile_def": {
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:cloudops.deployment_locks.status{environment:<%= environment %>,deployment:mysql}",
            "aggregator": "last",
            "conditional_formats": [
              {
                "custom_bg_color": "#0215ff",
                "palette": "custom_bg",
                "value": 0.5,
                "comparator": ">="
              },
              {
                "palette": "white_on_green",
                "comparator": "<=",
                "value": 0.5
              }
            ]
          }
        ],
        "text_align": "right",
        "precision": "0",
        "custom_unit": null
      },
      "width": 14,
      "timeframe": "1mo",
      "y": 79,
      "x": 90,
      "legend_size": "0",
      "type": "query_value",
      "legend": false
    },
    {
      "autoscale": true,
      "title_size": 16,
      "title": true,
      "title_align": "center",
      "title_text": "Prod Rabbit MQ Lock",
      "height": 4,
      "tile_def": {
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:cloudops.deployment_locks.status{environment:<%= environment %>,deployment:rabbitmq}",
            "aggregator": "last",
            "conditional_formats": [
              {
                "custom_bg_color": "#0215ff",
                "palette": "custom_bg",
                "value": 0.5,
                "comparator": ">="
              },
              {
                "palette": "white_on_green",
                "comparator": "<=",
                "value": 0.5
              }
            ]
          }
        ],
        "text_align": "right",
        "precision": "0",
        "custom_unit": null
      },
      "width": 14,
      "timeframe": "1mo",
      "y": 85,
      "x": 104,
      "legend_size": "0",
      "type": "query_value",
      "legend": false
    },
    {
      "autoscale": true,
      "title_size": 16,
      "title": true,
      "title_align": "center",
      "title_text": "Prod Redis Lock",
      "height": 4,
      "tile_def": {
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:cloudops.deployment_locks.status{environment:<%= environment %>,deployment:redis}",
            "aggregator": "last",
            "conditional_formats": [
              {
                "custom_bg_color": "#0215ff",
                "palette": "custom_bg",
                "value": 0.5,
                "comparator": ">="
              },
              {
                "palette": "white_on_green",
                "comparator": "<=",
                "value": 0.5
              }
            ]
          }
        ],
        "text_align": "right",
        "precision": "0",
        "custom_unit": null
      },
      "width": 14,
      "timeframe": "1mo",
      "y": 85,
      "x": 90,
      "legend_size": "0",
      "type": "query_value",
      "legend": false
    },
    {
      "board_id": 14530,
      "x": 146,
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "mysql backups, 24hr",
      "height": 6,
      "tile_def": {
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:cloudops_tools.mysql_backup.success{environment:<%= environment %>}",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "value": "1"
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "value": "0.5"
              },
              {
                "palette": "white_on_yellow",
                "comparator": "<",
                "value": "1"
              }
            ]
          }
        ]
      },
      "width": 12,
      "timeframe": "1d",
      "y": 56,
      "autoscale": true,
      "legend_size": "0",
      "type": "query_value",
      "legend": false
    },
    {
      "board_id": 14530,
      "x": 35,
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Slow Backend request count",
      "height": 4,
      "tile_def": {
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:cloudops_tools.logsearch.elblog.slow_backend_processing_count{*}",
            "aggregator": "max",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": "<=",
                "value": 15
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">",
                "value": 15
              }
            ]
          }
        ],
        "precision": "0"
      },
      "width": 16,
      "timeframe": "15m",
      "y": 55,
      "autoscale": true,
      "legend_size": "0",
      "type": "query_value",
      "legend": false
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:api_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:api_z2}.rollup(avg,60)) ) *50",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 11,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "API - 5m",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "invert": false,
          "comparator": "<",
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:api_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:api_z2}.rollup(avg,60)) ) *50', 'white_on_red') %>,
          "palette": "white_on_red"
        },
        {
          "invert": false,
          "comparator": ">=",
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:api_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:api_z2}.rollup(avg,60)) ) *50', 'white_on_green') %>,
          "palette": "white_on_green"
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:api_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:api_z2}.rollup(avg,60)) ) *50",
            "aggregator": "min",
            "conditional_formats": [
              {
                "invert": false,
                "comparator": "<",
                "value": 100,
                "palette": "white_on_red"
              },
              {
                "invert": false,
                "comparator": ">=",
                "value": 100,
                "palette": "white_on_green"
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 13,
      "x": 12
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:api_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:api_z2}.rollup(avg,60)) ) *50",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 9,
      "timeframe": "1d",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "API - 24h",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "legend": false,
      "conditional_formats": [
        {
          "invert": false,
          "comparator": "<",
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:api_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:api_z2}.rollup(avg,60)) ) *50', 'white_on_yellow') %>,
          "palette": "white_on_yellow"
        },
        {
          "invert": false,
          "comparator": ">=",
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:api_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:api_z2}.rollup(avg,60)) ) *50', 'white_on_green') %>,
          "palette": "white_on_green"
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "((avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:api_z1})+(avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:api_z2}))*50",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">",
                "invert": false,
                "value": 99,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 97,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": "<=",
                "invert": false,
                "value": 99,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 13,
      "x": 23
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:doppler_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:loggregator_trafficcontroller_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:doppler_z2}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:loggregator_trafficcontroller_z2}.rollup(avg,60)) ) *25",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 14,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "Doppler - 5m",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:doppler_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:loggregator_trafficcontroller_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:doppler_z2}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:loggregator_trafficcontroller_z2}.rollup(avg,60)) ) *25', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:doppler_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:loggregator_trafficcontroller_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:doppler_z2}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:loggregator_trafficcontroller_z2}.rollup(avg,60)) ) *25', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:doppler_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:loggregator_trafficcontroller_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:doppler_z2}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:loggregator_trafficcontroller_z2}.rollup(avg,60)) ) *25",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 37,
      "x": 0
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:doppler_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:loggregator_trafficcontroller_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:doppler_z2}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:loggregator_trafficcontroller_z2}.rollup(avg,60)) ) *25",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 9,
      "timeframe": "1d",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "Doppler - 24h",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:doppler_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:loggregator_trafficcontroller_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:doppler_z2}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:loggregator_trafficcontroller_z2}.rollup(avg,60)) ) *25', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:doppler_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:loggregator_trafficcontroller_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:doppler_z2}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:loggregator_trafficcontroller_z2}.rollup(avg,60)) ) *25', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "((avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:doppler_z1})+(avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:loggregator_trafficcontroller_z1})+(avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:doppler_z2})+(avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:loggregator_trafficcontroller_z2}))*25",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">",
                "invert": false,
                "value": 99,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 97,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": "<=",
                "invert": false,
                "value": 99,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 37,
      "x": 14
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:etcd_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:etcd_z2}.rollup(avg,60)) ) *50",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 14,
      "timeframe": "5m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "ETCD - 5m",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:etcd_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:etcd_z2}.rollup(avg,60)) ) *50', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:etcd_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:etcd_z2}.rollup(avg,60)) ) *50', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:etcd_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:etcd_z2}.rollup(avg,60)) ) *50', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "((avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:etcd_z1}.rollup(avg,60))+(avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:etcd_z2}.rollup(avg,60)))*50",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">",
                "invert": false,
                "value": 99,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 97,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": "<=",
                "invert": false,
                "value": 99,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 54,
      "x": 0
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:etcd_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:etcd_z2}.rollup(avg,60)) ) *50",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 9,
      "timeframe": "1d",
      "wrapped": true,
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "ETCD - 24h",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:etcd_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:etcd_z2}.rollup(avg,60)) ) *50', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:etcd_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:etcd_z2}.rollup(avg,60)) ) *50', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:etcd_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:etcd_z2}.rollup(avg,60)) ) *50",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 54,
      "x": 14
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:nats_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:nats_z2}.rollup(avg,60)) ) *50",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 14,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "NATS - 5m",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "invert": false,
          "comparator": "<",
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:nats_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:nats_z2}.rollup(avg,60)) ) *50', 'white_on_red') %>,
          "palette": "white_on_red"
        },
        {
          "invert": false,
          "comparator": ">=",
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:nats_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:nats_z2}.rollup(avg,60)) ) *50', 'white_on_green') %>,
          "palette": "white_on_green"
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:nats_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:nats_z2}.rollup(avg,60)) ) *50",
            "aggregator": "min",
            "conditional_formats": [
              {
                "invert": false,
                "comparator": "<",
                "value": 100,
                "palette": "white_on_red"
              },
              {
                "invert": false,
                "comparator": ">=",
                "value": 100,
                "palette": "white_on_green"
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 31,
      "x": 0
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:nats_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:nats_z2}.rollup(avg,60)) ) *50",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 9,
      "timeframe": "1d",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "NATS - 24h",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "legend": false,
      "conditional_formats": [
        {
          "invert": false,
          "comparator": "<",
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:nats_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:nats_z2}.rollup(avg,60)) ) *50', 'white_on_yellow') %>,
          "palette": "white_on_yellow"
        },
        {
          "invert": false,
          "comparator": ">=",
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:nats_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:nats_z2}.rollup(avg,60)) ) *50', 'white_on_green') %>,
          "palette": "white_on_green"
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "((avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:nats_z1})+(avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:nats_z2}))*50",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">",
                "invert": false,
                "value": 99,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 97,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": "<=",
                "invert": false,
                "value": 99,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 31,
      "x": 14
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:router_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:router_z2}.rollup(avg,60)) ) *50",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 11,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "Router - 5m",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "invert": false,
          "comparator": "<",
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:router_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:router_z2}.rollup(avg,60)) ) *50', 'white_on_red') %>,
          "palette": "white_on_red"
        },
        {
          "invert": false,
          "comparator": ">=",
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:router_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:router_z2}.rollup(avg,60)) ) *50', 'white_on_green') %>,
          "palette": "white_on_green"
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:router_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:router_z2}.rollup(avg,60)) ) *50",
            "aggregator": "min",
            "conditional_formats": [
              {
                "invert": false,
                "comparator": "<",
                "value": 100,
                "palette": "white_on_red"
              },
              {
                "invert": false,
                "comparator": ">=",
                "value": 100,
                "palette": "white_on_green"
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 7,
      "x": 12
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:router_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:router_z2}.rollup(avg,60)) ) *50",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 9,
      "timeframe": "1d",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "Router - 24h",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "legend": false,
      "conditional_formats": [
        {
          "invert": false,
          "comparator": "<",
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:router_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:router_z2}.rollup(avg,60)) ) *50', 'white_on_yellow') %>,
          "palette": "white_on_yellow"
        },
        {
          "invert": false,
          "comparator": ">=",
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:router_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:router_z2}.rollup(avg,60)) ) *50', 'white_on_green') %>,
          "palette": "white_on_green"
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "((avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:router_z1})+(avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:router_z2}))*50",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">",
                "invert": false,
                "value": 99,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 97,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": "<=",
                "invert": false,
                "value": 99,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 7,
      "x": 23
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:uaa_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:uaa_z2}.rollup(avg,60)) ) *50",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 11,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "UAA - 5m",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "invert": false,
          "comparator": "<",
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:uaa_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:uaa_z2}.rollup(avg,60)) ) *50', 'white_on_red') %>,
          "palette": "white_on_red"
        },
        {
          "invert": false,
          "comparator": ">=",
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:uaa_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:uaa_z2}.rollup(avg,60)) ) *50', 'white_on_green') %>,
          "palette": "white_on_green"
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:uaa_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:uaa_z2}.rollup(avg,60)) ) *50",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "invert": false,
                "comparator": "<",
                "value": 100,
                "palette": "white_on_red"
              },
              {
                "invert": false,
                "comparator": ">=",
                "value": 100,
                "palette": "white_on_green"
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 19,
      "x": 12
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:uaa_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:uaa_z2}.rollup(avg,60)) ) *50",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 9,
      "timeframe": "1d",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "UAA - 24h",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "legend": false,
      "conditional_formats": [
        {
          "invert": false,
          "comparator": "<",
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:uaa_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:uaa_z2}.rollup(avg,60)) ) *50', 'white_on_yellow') %>,
          "palette": "white_on_yellow"
        },
        {
          "invert": false,
          "comparator": ">=",
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:uaa_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:deployment,job:uaa_z2}.rollup(avg,60)) ) *50', 'white_on_green') %>,
          "palette": "white_on_green"
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "((avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:uaa_z1})+(avg:bosh.healthmonitor.system.healthy{deployment:<%= deployment %>,job:uaa_z2}))*50",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">",
                "invert": false,
                "value": 99,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 97,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": "<=",
                "invert": false,
                "value": 99,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 19,
      "x": 23
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:access_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:access_z2}.rollup(avg,60)) ) *50",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 14,
      "timeframe": "5m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "Access - 5m",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:access_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:access_z2}.rollup(avg,60)) ) *50', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:access_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:access_z2}.rollup(avg,60)) ) *50', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "((avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:access_z1}.rollup(avg,60))+(avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:access_z2}.rollup(avg,60)))*50",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 5,
      "x": 134
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:access_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:access_z2}.rollup(avg,60)) ) *50",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 9,
      "timeframe": "1d",
      "wrapped": true,
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "Access - 24h",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:access_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:access_z2}.rollup(avg,60)) ) *50', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:access_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:access_z2}.rollup(avg,60)) ) *50', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:access_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:access_z2}.rollup(avg,60)) ) *50",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 5,
      "x": 148
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:brain_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:brain_z2}.rollup(avg,60)) ) *50",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 14,
      "timeframe": "5m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "Brain - 5m",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:brain_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:brain_z2}.rollup(avg,60)) ) *50', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:brain_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:brain_z2}.rollup(avg,60)) ) *50', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "((avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:brain_z1}.rollup(avg,60))+(avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:brain_z2}.rollup(avg,60)))*50",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 11,
      "x": 134
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:brain_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:brain_z2}.rollup(avg,60)) ) *50",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 9,
      "timeframe": "1d",
      "wrapped": true,
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "Brain - 24h",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:brain_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:brain_z2}.rollup(avg,60)) ) *50', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:brain_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:brain_z2}.rollup(avg,60)) ) *50', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:brain_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:brain_z2}.rollup(avg,60)) ) *50",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 11,
      "x": 148
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:cc_bridge_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:cc_bridge_z2}.rollup(avg,60)) ) *50",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 14,
      "timeframe": "5m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "CC Bridge - 5m",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:cc_bridge_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:cc_bridge_z2}.rollup(avg,60)) ) *50', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:cc_bridge_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:cc_bridge_z2}.rollup(avg,60)) ) *50', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "((avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:cc_bridge_z1}.rollup(avg,60))+(avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:cc_bridge_z2}.rollup(avg,60)))*50",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 17,
      "x": 134
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:cc_bridge_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:cc_bridge_z2}.rollup(avg,60)) ) *50",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 9,
      "timeframe": "1d",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "CC bridge - 24h",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:cc_bridge_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:cc_bridge_z2}.rollup(avg,60)) ) *50', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:cc_bridge_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:cc_bridge_z2}.rollup(avg,60)) ) *50', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "((avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:cc_bridge_z1})+(avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:cc_bridge_z2}))*50",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">",
                "invert": false,
                "value": 99.9,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 98,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": "<=",
                "invert": false,
                "value": 99.9,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 17,
      "x": 148
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:cell_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:cell_z2}.rollup(avg,60)) ) *50",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 14,
      "timeframe": "5m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "Cell - 5m",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:cell_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:cell_z2}.rollup(avg,60)) ) *50', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:cell_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:cell_z2}.rollup(avg,60)) ) *50', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "((avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:cell_z1}.rollup(avg,60))+(avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:cell_z2}.rollup(avg,60)))*50",
            "aggregator": "min",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 23,
      "x": 134
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:cell_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:cell_z2}.rollup(avg,60)) ) *50",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 9,
      "timeframe": "1d",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "Cell - 24h",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:cell_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:cell_z2}.rollup(avg,60)) ) *50', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:cell_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:cell_z2}.rollup(avg,60)) ) *50', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "((avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:cell_z1})+(avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:cell_z2}))*50",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 99,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 97,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": "<",
                "invert": false,
                "value": 99,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 23,
      "x": 148
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:route_emitter_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:route_emitter_z2}.rollup(avg,60)) ) *50",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 14,
      "timeframe": "5m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "Route Emitter - 5m",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:route_emitter_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:route_emitter_z2}.rollup(avg,60)) ) *50', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:route_emitter_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:route_emitter_z2}.rollup(avg,60)) ) *50', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "((avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:route_emitter_z1}.rollup(avg,60))+(avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:route_emitter_z2}.rollup(avg,60)))*50",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 35,
      "x": 134
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "( (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:route_emitter_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:route_emitter_z2}.rollup(avg,60)) ) *50",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 9,
      "timeframe": "1d",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "Route Emitter - 24h",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:route_emitter_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:route_emitter_z2}.rollup(avg,60)) ) *50', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:route_emitter_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:route_emitter_z2}.rollup(avg,60)) ) *50', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "((avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:route_emitter_z1}.rollup(avg,60))+(avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:route_emitter_z2}.rollup(avg,60)))*50",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 99.5,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": "<",
                "invert": false,
                "value": 99.5,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 35,
      "x": 148
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "(( (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:database_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:database_z2}.rollup(avg,60)) + + (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:database_z3}.rollup(avg,60)) ) * 100 )/3",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 14,
      "timeframe": "5m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "Database - 5m",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('(( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:database_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:database_z2}.rollup(avg,60)) + + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:database_z3}.rollup(avg,60)) ) * 100 )/3', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('(( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:database_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:database_z2}.rollup(avg,60)) + + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:database_z3}.rollup(avg,60)) ) * 100 )/3', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "(((avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:database_z1}.rollup(avg,60))+(avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:database_z2}.rollup(avg,60))++(avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:database_z3}.rollup(avg,60)))*100)/3",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 29,
      "x": 134
    },
    {
      "metric": "",
      "custom_unit": "%",
      "query": "(( (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:database_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:database_z2}.rollup(avg,60)) + + (avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:database_z3}.rollup(avg,60)) ) * 100 )/3",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 9,
      "timeframe": "1d",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "Database - 24h",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('(( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:database_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:database_z2}.rollup(avg,60)) + + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:database_z3}.rollup(avg,60)) ) * 100 )/3', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('(( (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:database_z1}.rollup(avg,60)) + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:database_z2}.rollup(avg,60)) + + (avg:bosh.healthmonitor.system.healthy{deployment:diego_deployment,job:database_z3}.rollup(avg,60)) ) * 100 )/3', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "(((avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:database_z1})+(avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:database_z2})++(avg:bosh.healthmonitor.system.healthy{deployment:<%= diego_deployment %>,job:database_z3}))*100)/3",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 99,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 97,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": "<",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 29,
      "x": 148
    },
    {
      "metric": "",
      "custom_unit": "/5m",
      "query": "(((datadog.nozzle.bbs.LRPsDesired{deployment:<%= diego_deployment %>} - datadog.nozzle.bbs.LRPsRunning{deployment:<%= diego_deployment %>}) -datadog.nozzle.bbs.LRPsStarting{deployment:<%= metron_agent_diego_deployment %>}) -datadog.nozzle.bbs.CrashedActualLRPs{deployment:<%= metron_agent_diego_deployment %>})",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "max",
      "title_align": "center",
      "text_align": "center",
      "width": 21,
      "timeframe": "5m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "Missing LRPs - 5m max",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 6,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('(((datadog.nozzle.bbs.LRPsDesired{deployment:diego_deployment} - datadog.nozzle.bbs.LRPsRunning{deployment:diego_deployment}) -datadog.nozzle.bbs.LRPsStarting{deployment:diego_deployment}) -datadog.nozzle.bbs.CrashedActualLRPs{deployment:diego_deployment})', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('(((datadog.nozzle.bbs.LRPsDesired{deployment:diego_deployment} - datadog.nozzle.bbs.LRPsRunning{deployment:diego_deployment}) -datadog.nozzle.bbs.LRPsStarting{deployment:diego_deployment}) -datadog.nozzle.bbs.CrashedActualLRPs{deployment:diego_deployment})', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('(((datadog.nozzle.bbs.LRPsDesired{deployment:diego_deployment} - datadog.nozzle.bbs.LRPsRunning{deployment:diego_deployment}) -datadog.nozzle.bbs.LRPsStarting{deployment:diego_deployment}) -datadog.nozzle.bbs.CrashedActualLRPs{deployment:diego_deployment})', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "/5m",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:datadog.nozzle.bbs.LRPsMissing{deployment:<%= metron_agent_diego_deployment %>}",
            "aggregator": "max",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": "<",
                "invert": false,
                "value": 5,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": ">",
                "invert": false,
                "value": 10,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "invert": false,
                "value": 5,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 23,
      "x": 52
    },
    {
      "metric": "",
      "custom_unit": "/m",
      "query": "per_minute(avg:datadog.nozzle.auctioneer.AuctioneerLRPAuctionsFailed{deployment:<%= metron_agent_diego_deployment %>})",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "avg",
      "title_align": "center",
      "text_align": "center",
      "width": 21,
      "timeframe": "30m",
      "wrapped": true,
      "type": "query_value",
      "tags": [

      ],
      "precision": 1,
      "title_text": "LRP Auction Failures per Minute - 30m avg",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 6,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('per_minute(avg:datadog.nozzle.auctioneer.AuctioneerLRPAuctionsFailed{deployment:diego_deployment})', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('per_minute(avg:datadog.nozzle.auctioneer.AuctioneerLRPAuctionsFailed{deployment:diego_deployment})', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('per_minute(avg:datadog.nozzle.auctioneer.AuctioneerLRPAuctionsFailed{deployment:diego_deployment})', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "/m",
        "text_align": "center",
        "precision": 1,
        "viz": "query_value",
        "requests": [
          {
            "q": "per_minute(avg:datadog.nozzle.auctioneer.AuctioneerLRPAuctionsFailed{deployment:<%= metron_agent_diego_deployment %>})",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": "<",
                "invert": false,
                "value": 0.5,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": ">",
                "invert": false,
                "value": 1,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "invert": false,
                "value": 0.5,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 39,
      "x": 52
    },
    {
      "metric": "",
      "custom_unit": "/s",
      "query": "per_second(sum:datadog.nozzle.gorouter.requests.CloudController{deployment:<%= metron_agent_deployment %>})",
      "text_size": "auto",
      "title_size": 20,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "left",
      "width": 13,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "API Req/sec - 5min",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "green_on_white",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('per_second(sum:datadog.nozzle.gorouter.requests.CloudController{deployment:metron_agent_deployment})', 'green_on_white') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "red_on_white",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('per_second(sum:datadog.nozzle.gorouter.requests.CloudController{deployment:metron_agent_deployment})', 'red_on_white') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "yellow_on_white",
          "comparator": "<=",
          "invert": false,
          "value": <%= threshold_value('per_second(sum:datadog.nozzle.gorouter.requests.CloudController{deployment:metron_agent_deployment})', 'yellow_on_white') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "/s",
        "text_align": "left",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "per_second(sum:datadog.nozzle.gorouter.requests.CloudController{deployment:<%= metron_agent_deployment %>})",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "green_on_white",
                "comparator": ">",
                "invert": false,
                "value": 10,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "red_on_white",
                "comparator": "<",
                "invert": false,
                "value": 7,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "yellow_on_white",
                "comparator": "<=",
                "invert": false,
                "value": 10,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 98,
      "x": 134
    },
    {
      "metric": "",
      "custom_unit": "/s",
      "query": "per_second(sum:datadog.nozzle.gorouter.requests.uaa{deployment:<%= metron_agent_deployment %>})",
      "text_size": "auto",
      "title_size": 20,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "left",
      "width": 11,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "UAA Req/sec - 5min",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "green_on_white",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('per_second(sum:datadog.nozzle.gorouter.requests.uaa{deployment:metron_agent_deployment})', 'green_on_white') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "red_on_white",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('per_second(sum:datadog.nozzle.gorouter.requests.uaa{deployment:metron_agent_deployment})', 'red_on_white') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "yellow_on_white",
          "comparator": "<=",
          "invert": false,
          "value": <%= threshold_value('per_second(sum:datadog.nozzle.gorouter.requests.uaa{deployment:metron_agent_deployment})', 'yellow_on_white') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "/s",
        "text_align": "left",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "per_second(sum:datadog.nozzle.gorouter.requests.uaa{deployment:<%= metron_agent_deployment %>})",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "green_on_white",
                "comparator": ">",
                "invert": false,
                "value": 2.5,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "red_on_white",
                "comparator": "<",
                "invert": false,
                "value": 1,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "yellow_on_white",
                "comparator": "<=",
                "invert": false,
                "value": 2.5,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 98,
      "x": 147
    },
    {
      "metric": "",
      "custom_unit": "/s",
      "query": "per_second(sum:datadog.nozzle.gorouter.total_requests{*})",
      "text_size": "auto",
      "title_size": 20,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "left",
      "width": 13,
      "timeframe": "5m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "Router Req/sec - 5min",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "green_on_white",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('per_second(sum:datadog.nozzle.gorouter.total_requests{*})', 'green_on_white') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "red_on_white",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('per_second(sum:datadog.nozzle.gorouter.total_requests{*})', 'red_on_white') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "yellow_on_white",
          "comparator": "<=",
          "invert": false,
          "value": <%= threshold_value('per_second(sum:datadog.nozzle.gorouter.total_requests{*})', 'yellow_on_white') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "/s",
        "text_align": "left",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "per_second(sum:datadog.nozzle.gorouter.total_requests{*})",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "green_on_white",
                "comparator": ">",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "red_on_white",
                "comparator": "<",
                "invert": false,
                "value": 80,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "yellow_on_white",
                "comparator": "<=",
                "invert": false,
                "value": 100,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 98,
      "x": 121
    },
    {
      "metric": "",
      "custom_unit": "s",
      "query": "(avg:new_relic.application_summary.response_time{application:webconsole_production})/1000",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "max",
      "title_align": "center",
      "text_align": "center",
      "width": 11,
      "timeframe": "10m",
      "wrapped": true,
      "type": "query_value",
      "tags": [

      ],
      "precision": 3,
      "title_text": "Max Response Time Console - 10m",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "invert": false,
          "comparator": "<",
          "value": <%= threshold_value('(avg:new_relic.application_summary.response_time{application:webconsole_production})/1000', 'white_on_green') %>,
          "palette": "white_on_green"
        },
        {
          "invert": false,
          "comparator": ">",
          "value": <%= threshold_value('(avg:new_relic.application_summary.response_time{application:webconsole_production})/1000', 'white_on_red') %>,
          "palette": "white_on_red"
        },
        {
          "invert": false,
          "comparator": ">=",
          "value": <%= threshold_value('(avg:new_relic.application_summary.response_time{application:webconsole_production})/1000', 'white_on_yellow') %>,
          "palette": "white_on_yellow"
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "s",
        "text_align": "center",
        "precision": 3,
        "viz": "query_value",
        "requests": [
          {
            "q": "(avg:new_relic.application_summary.response_time{application:webconsole_production})/1000",
            "aggregator": "max",
            "conditional_formats": [
              {
                "invert": false,
                "comparator": "<",
                "value": 1,
                "palette": "white_on_green"
              },
              {
                "invert": false,
                "comparator": ">",
                "value": 3,
                "palette": "white_on_red"
              },
              {
                "invert": false,
                "comparator": ">=",
                "value": 1,
                "palette": "white_on_yellow"
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 91,
      "x": 22
    },
    {
      "metric": "",
      "custom_unit": "s",
      "query": "max:datadog.nozzle.auctioneer.AuctioneerFetchStatesDuration{deployment:<%= metron_agent_diego_deployment %>}/1000000000",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "avg",
      "title_align": "center",
      "text_align": "left",
      "width": 16,
      "timeframe": "30m",
      "wrapped": true,
      "type": "query_value",
      "tags": [

      ],
      "precision": 2,
      "title_text": "Max. Fetch Cell State Times - 30m avg",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 6,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('max:datadog.nozzle.auctioneer.AuctioneerFetchStatesDuration{deployment:metron_agent_diego_deployment}/1000000000', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('max:datadog.nozzle.auctioneer.AuctioneerFetchStatesDuration{deployment:metron_agent_diego_deployment}/1000000000', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('max:datadog.nozzle.auctioneer.AuctioneerFetchStatesDuration{deployment:metron_agent_diego_deployment}/1000000000', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "s",
        "text_align": "left",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "max:datadog.nozzle.auctioneer.AuctioneerFetchStatesDuration{deployment:<%= metron_agent_diego_deployment %>}/1000000000",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": "<",
                "invert": false,
                "value": 5,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": ">",
                "invert": false,
                "value": 10,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "invert": false,
                "value": 5,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 39,
      "x": 35
    },
    {
      "metric": "",
      "custom_unit": "s",
      "query": "max:datadog.nozzle.bbs.ConvergenceLRPDuration{deployment:<%= metron_agent_diego_deployment %>}/1000000000\n",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "max",
      "title_align": "center",
      "text_align": "center",
      "width": 16,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [

      ],
      "precision": 2,
      "title_text": "Convergence LRP Duration - 5m max",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 6,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('max:datadog.nozzle.bbs.ConvergenceLRPDuration{deployment:metron_agent_diego_deployment}/1000000000', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('max:datadog.nozzle.bbs.ConvergenceLRPDuration{deployment:metron_agent_diego_deployment}/1000000000', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('max:datadog.nozzle.bbs.ConvergenceLRPDuration{deployment:metron_agent_diego_deployment}/1000000000', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "s",
        "text_align": "center",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "max:datadog.nozzle.bbs.ConvergenceLRPDuration{deployment:<%= metron_agent_diego_deployment %>}/1000000000\n",
            "aggregator": "max",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": "<",
                "invert": false,
                "value": 10,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": ">",
                "invert": false,
                "value": 20,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "invert": false,
                "value": 10,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 31,
      "x": 35
    },
    {
      "metric": "",
      "custom_unit": "s",
      "query": "max:datadog.nozzle.nsync_bulker.DesiredLRPSyncDuration{deployment:<%= metron_agent_diego_deployment %>}/1000000000\n",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "max",
      "title_align": "center",
      "text_align": "center",
      "width": 16,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [

      ],
      "precision": 2,
      "title_text": "NSYNC Bulker Time - 5m max",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 6,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('max:datadog.nozzle.nsync_bulker.DesiredLRPSyncDuration{deployment:metron_agent_diego_deployment}/1000000000', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('max:datadog.nozzle.nsync_bulker.DesiredLRPSyncDuration{deployment:metron_agent_diego_deployment}/1000000000', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('max:datadog.nozzle.nsync_bulker.DesiredLRPSyncDuration{deployment:metron_agent_diego_deployment}/1000000000', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "s",
        "text_align": "center",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "max:datadog.nozzle.nsync_bulker.DesiredLRPSyncDuration{deployment:<%= metron_agent_diego_deployment %>}/1000000000\n",
            "aggregator": "max",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": "<",
                "invert": false,
                "value": 10,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": ">",
                "invert": false,
                "value": 15,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "invert": false,
                "value": 10,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 7,
      "x": 35
    },
    {
      "metric": "",
      "custom_unit": "s",
      "query": "max:datadog.nozzle.rep.RepBulkSyncDuration{deployment:<%= metron_agent_diego_deployment %>}/1000000000\n",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "max",
      "title_align": "center",
      "text_align": "center",
      "width": 16,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [

      ],
      "precision": 2,
      "title_text": "Rep Bulk Sync Duration - 5m max",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 6,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('max:datadog.nozzle.rep.RepBulkSyncDuration{deployment:metron_agent_diego_deployment}/1000000000', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('max:datadog.nozzle.rep.RepBulkSyncDuration{deployment:metron_agent_diego_deployment}/1000000000', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('max:datadog.nozzle.rep.RepBulkSyncDuration{deployment:metron_agent_diego_deployment}/1000000000', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "s",
        "text_align": "center",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "max:datadog.nozzle.rep.RepBulkSyncDuration{deployment:<%= metron_agent_diego_deployment %>}/1000000000\n",
            "aggregator": "max",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": "<",
                "invert": false,
                "value": 10,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": ">",
                "invert": false,
                "value": 20,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "invert": false,
                "value": 10,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 15,
      "x": 35
    },
    {
      "metric": "",
      "custom_unit": "s",
      "query": "max:datadog.nozzle.route_emitter.RouteEmitterSyncDuration{deployment:<%= metron_agent_diego_deployment %>}/1000000000\n",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "max",
      "title_align": "center",
      "text_align": "center",
      "width": 16,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [

      ],
      "precision": 2,
      "title_text": "Router Emitter Sync Duration - 5m max",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 6,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('max:datadog.nozzle.route_emitter.RouteEmitterSyncDuration{deployment:metron_agent_diego_deployment}/1000000000', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('max:datadog.nozzle.route_emitter.RouteEmitterSyncDuration{deployment:metron_agent_diego_deployment}/1000000000', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('max:datadog.nozzle.route_emitter.RouteEmitterSyncDuration{deployment:metron_agent_diego_deployment}/1000000000', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "s",
        "text_align": "center",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "max:datadog.nozzle.route_emitter.RouteEmitterSyncDuration{deployment:<%= metron_agent_diego_deployment %>}/1000000000\n",
            "aggregator": "max",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": "<",
                "invert": false,
                "value": 10,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": ">",
                "invert": false,
                "value": 20,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "invert": false,
                "value": 10,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 23,
      "x": 35
    },
    {
      "metric": "",
      "custom_unit": null,
      "query": "(min:datadog.nozzle.rep.CapacityRemainingMemory{deployment:<%= metron_agent_diego_deployment %>} by {ip}) / 0.000001024",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 21,
      "timeframe": "30m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 2,
      "title_text": "Free 4GB Chunks in diego",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": true,
      "height": 6,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('(min:datadog.nozzle.rep.CapacityRemainingMemory{deployment:metron_agent_diego_deployment} by {ip}) / 0.000001024', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('(min:datadog.nozzle.rep.CapacityRemainingMemory{deployment:metron_agent_diego_deployment} by {ip}) / 0.000001024', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": "<=",
          "invert": false,
          "value": <%= threshold_value('(min:datadog.nozzle.rep.CapacityRemainingMemory{deployment:metron_agent_diego_deployment} by {ip}) / 0.000001024', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": true,
        "custom_unit": null,
        "text_align": "center",
        "precision": "0",
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:cloudops_tools.diego_4gb_count{*}",
            "aggregator": "last",
            "conditional_formats": [
              {
                "value": 24,
                "custom_bg_color": null,
                "palette": "white_on_red",
                "custom_fg_color": null,
                "comparator": "<"
              },
              {
                "value": 29,
                "custom_bg_color": null,
                "palette": "white_on_green",
                "custom_fg_color": null,
                "comparator": ">"
              },
              {
                "value": 29,
                "custom_bg_color": null,
                "palette": "white_on_yellow",
                "custom_fg_color": null,
                "comparator": "<="
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 7,
      "x": 52
    },
    {
      "metric": "",
      "custom_unit": null,
      "query": "(sum:datadog.nozzle.rep.CapacityRemainingMemory{deployment:<%= metron_agent_diego_deployment %>} ) / 0.000001024",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "avg",
      "title_align": "center",
      "text_align": "center",
      "width": 21,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [

      ],
      "precision": 2,
      "title_text": "Total Avail. Memory - 5m avg",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": true,
      "height": 6,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('(sum:datadog.nozzle.rep.CapacityRemainingMemory{deployment:metron_agent_diego_deployment} ) / 0.000001024', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('(sum:datadog.nozzle.rep.CapacityRemainingMemory{deployment:metron_agent_diego_deployment} ) / 0.000001024', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": "<=",
          "invert": false,
          "value": <%= threshold_value('(sum:datadog.nozzle.rep.CapacityRemainingMemory{deployment:metron_agent_diego_deployment} ) / 0.000001024', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": true,
        "custom_unit": null,
        "text_align": "center",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "(sum:datadog.nozzle.rep.CapacityRemainingMemory{deployment:<%= metron_agent_diego_deployment %>} ) / 0.000001024",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">",
                "invert": false,
                "value": 22,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 18,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": "<=",
                "invert": false,
                "value": 22,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 15,
      "x": 52
    },
    {
      "metric": "",
      "custom_unit": null,
      "query": "avg:aws.ec2.network_in{deployment:<%= deployment %>,job:nats_z1}.rollup(avg,1800)\n",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "left",
      "width": 13,
      "timeframe": "30m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 2,
      "title_text": "NATS_Z1 Net Bytes in",
      "padding": 8,
      "x": 132,
      "metric_type": "standard",
      "autoscale": true,
      "height": 4,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('avg:aws.ec2.network_in{deployment:deployment,job:nats_z1}.rollup(avg,1800)', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": "<=",
          "invert": false,
          "value": <%= threshold_value('avg:aws.ec2.network_in{deployment:deployment,job:nats_z1}.rollup(avg,1800)', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": true,
        "custom_unit": null,
        "text_align": "left",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:aws.ec2.network_in{deployment:<%= deployment %>,job:nats_z1}.rollup(avg,1800)",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "value": 4000000,
                "custom_bg_color": null,
                "palette": "white_on_green",
                "custom_fg_color": null,
                "comparator": ">"
              },
              {
                "value": 4000000,
                "custom_bg_color": null,
                "palette": "white_on_yellow",
                "custom_fg_color": null,
                "comparator": "<="
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 92,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": null,
      "query": "avg:aws.ec2.network_in{deployment:<%= deployment %>,job:nats_z2}.rollup(avg,1800)",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "left",
      "width": 13,
      "timeframe": "30m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 2,
      "title_text": "NATS_Z2 Net Bytes In",
      "padding": 8,
      "x": 145,
      "metric_type": "standard",
      "autoscale": true,
      "height": 4,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('avg:aws.ec2.network_in{deployment:deployment,job:nats_z2}.rollup(avg,1800)', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": "<=",
          "invert": false,
          "value": <%= threshold_value('avg:aws.ec2.network_in{deployment:deployment,job:nats_z2}.rollup(avg,1800)', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": true,
        "custom_unit": null,
        "text_align": "left",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:aws.ec2.network_in{deployment:<%= deployment %>,job:nats_z2}.rollup(avg,1800)",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "value": 4000000,
                "custom_bg_color": null,
                "palette": "white_on_green",
                "custom_fg_color": null,
                "comparator": ">"
              },
              {
                "value": 4000000,
                "custom_bg_color": null,
                "palette": "white_on_yellow",
                "custom_fg_color": null,
                "comparator": "<="
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 92,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "custom_unit": null,
      "query": "max:datadog.nozzle.bbs.RequestLatency{deployment:<%= metron_agent_diego_deployment %>} / 1000000000",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "center",
      "width": 21,
      "timeframe": "15m",
      "wrapped": true,
      "type": "query_value",
      "tags": [

      ],
      "precision": 2,
      "title_text": "BBS Request Latency",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": true,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('max:datadog.nozzle.bbs.RequestLatency{deployment:diego_deployment} / 1000000000', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('max:datadog.nozzle.bbs.RequestLatency{deployment:diego_deployment} / 1000000000', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('max:datadog.nozzle.bbs.RequestLatency{deployment:diego_deployment} / 1000000000', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": true,
        "custom_unit": null,
        "text_align": "center",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "max:datadog.nozzle.bbs.RequestLatency{deployment:<%= metron_agent_diego_deployment %>} / 1000000000",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": "<",
                "invert": false,
                "value": 2,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": ">",
                "invert": false,
                "value": 10,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "invert": false,
                "value": 2,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 55,
      "x": 52
    },
    {
      "metric": "",
      "height": 12,
      "query": "avg:datadog.nozzle.bbs.LRPsDesired{deployment:<%= metron_agent_diego_deployment %>}.rollup(avg,1800) - hour_before(datadog.nozzle.bbs.LRPsDesired{deployment:<%= metron_agent_diego_deployment %>}.rollup(avg,1800))",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "avg",
      "title_align": "center",
      "text_align": "center",
      "width": 16,
      "timeframe": "30m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "App â - 1h",
      "padding": 8,
      "x": 117,
      "metric_type": "standard",
      "autoscale": true,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('avg:datadog.nozzle.bbs.LRPsDesired{deployment:diego_deployment}.rollup(avg,1800) - hour_before(datadog.nozzle.bbs.LRPsDesired{deployment:diego_deployment}.rollup(avg,1800))', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('avg:datadog.nozzle.bbs.LRPsDesired{deployment:diego_deployment}.rollup(avg,1800) - hour_before(datadog.nozzle.bbs.LRPsDesired{deployment:diego_deployment}.rollup(avg,1800))', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('avg:datadog.nozzle.bbs.LRPsDesired{deployment:diego_deployment}.rollup(avg,1800) - hour_before(datadog.nozzle.bbs.LRPsDesired{deployment:diego_deployment}.rollup(avg,1800))', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:datadog.nozzle.bbs.LRPsDesired{deployment:<%= metron_agent_diego_deployment %>}.rollup(avg,1800) - hour_before(avg:datadog.nozzle.bbs.LRPsDesired{deployment:<%= metron_agent_diego_deployment %>}.rollup(avg,1800))",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "custom_fg_color": null,
                "custom_bg_color": null,
                "palette": "white_on_red",
                "value": -1000,
                "comparator": "<"
              },
              {
                "custom_fg_color": null,
                "custom_bg_color": null,
                "palette": "white_on_yellow",
                "value": 1000,
                "comparator": ">="
              },
              {
                "palette": "white_on_green",
                "comparator": ">",
                "invert": false,
                "value": -10,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "value": 300,
                "comparator": "<"
              }
            ]
          }
        ],
        "autoscale": true,
        "precision": 0,
        "text_align": "center"
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 49,
      "calc_func": "raw"
    },
    {
      "metric": "",
      "height": 12,
      "query": "avg:datadog.nozzle.bbs.LRPsRunning{deployment:<%= metron_agent_diego_deployment %>}.rollup(avg,1800) - hour_before(datadog.nozzle.bbs.LRPsRunning{deployment:<%= metron_agent_diego_deployment %>}.rollup(avg,1800))",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "avg",
      "title_align": "center",
      "text_align": "center",
      "width": 15,
      "timeframe": "30m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "Instances â - 1h",
      "padding": 8,
      "x": 73,
      "metric_type": "standard",
      "autoscale": true,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('avg:datadog.nozzle.bbs.LRPsRunning{deployment:diego_deployment}.rollup(avg,1800) - hour_before(datadog.nozzle.bbs.LRPsRunning{deployment:diego_deployment}.rollup(avg,1800))', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('avg:datadog.nozzle.bbs.LRPsRunning{deployment:diego_deployment}.rollup(avg,1800) - hour_before(datadog.nozzle.bbs.LRPsRunning{deployment:diego_deployment}.rollup(avg,1800))', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('avg:datadog.nozzle.bbs.LRPsRunning{deployment:diego_deployment}.rollup(avg,1800) - hour_before(datadog.nozzle.bbs.LRPsRunning{deployment:diego_deployment}.rollup(avg,1800))', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:datadog.nozzle.bbs.LRPsRunning{deployment:<%= metron_agent_diego_deployment %>}.rollup(avg,1800) - hour_before(avg:datadog.nozzle.bbs.LRPsRunning{deployment:<%= metron_agent_diego_deployment %>}.rollup(avg,1800))",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "custom_fg_color": null,
                "custom_bg_color": null,
                "palette": "white_on_red",
                "value": -1000,
                "comparator": "<"
              },
              {
                "custom_fg_color": null,
                "custom_bg_color": null,
                "palette": "white_on_yellow",
                "value": 1000,
                "comparator": ">="
              },
              {
                "palette": "white_on_green",
                "comparator": ">",
                "invert": false,
                "value": -10,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_green",
                "value": 1000,
                "comparator": "<"
              }
            ]
          }
        ],
        "autoscale": true,
        "precision": 0,
        "text_align": "center"
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 49,
      "calc_func": "raw"
    },
    {
      "metric": "aws.ec2.status_check_failed",
      "custom_unit": "fail",
      "query": "max:aws.ec2.status_check_failed{deployment:<%= deployment %>}",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "max",
      "title_align": "left",
      "text_align": "center",
      "width": 18,
      "timeframe": "1h",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [
        "deployment:<%= deployment %>"
      ],
      "precision": 0,
      "title_text": "",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": "<=",
          "invert": false,
          "value": <%= threshold_value('max:aws.ec2.status_check_failed{deployment:deployment}', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('max:aws.ec2.status_check_failed{deployment:deployment}', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "fail",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "max:aws.ec2.status_check_failed{deployment:<%= deployment %>}",
            "aggregator": "max",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": "<=",
                "invert": false,
                "value": 0,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": ">",
                "invert": false,
                "value": 0,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "max",
      "y": 66,
      "x": 25
    },
    {
      "metric": "bosh.healthmonitor.system.disk.ephemeral.percent",
      "custom_unit": "%",
      "query": "max:bosh.healthmonitor.system.disk.ephemeral.percent{deployment:concourse-prod-worker}",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "max",
      "title_align": "left",
      "text_align": "center",
      "width": 44,
      "timeframe": "15m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [
        "deployment:concourse-prod-worker"
      ],
      "precision": 0,
      "title_text": "Top CPU User usage (%) past 15 min",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 11,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('max:bosh.healthmonitor.system.disk.ephemeral.percent{deployment:concourse-prod-worker}', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('max:bosh.healthmonitor.system.disk.ephemeral.percent{deployment:concourse-prod-worker}', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('max:bosh.healthmonitor.system.disk.ephemeral.percent{deployment:concourse-prod-worker}', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "toplist",
        "requests": [
          {
            "q": "top(avg:bosh.healthmonitor.system.cpu.user{*} by {index, job, deployment}, 10, 'mean', 'desc')",
            "style": {
              "palette": "dog_classic"
            },
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": "<",
                "value": 65
              },
              {
                "palette": "white_on_red",
                "comparator": ">",
                "value": 75
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "value": 65
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "max",
      "y": 89,
      "x": 44
    },
    {
      "metric": "bosh.healthmonitor.system.disk.ephemeral.percent",
      "custom_unit": "%",
      "query": "max:bosh.healthmonitor.system.disk.ephemeral.percent{deployment:concourse-prod-worker}",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "max",
      "title_align": "left",
      "text_align": "center",
      "width": 44,
      "timeframe": "15m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [
        "deployment:concourse-prod-worker"
      ],
      "precision": 0,
      "title_text": "Top Ephemeral Disk usage (%) past 15 min",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 10,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('max:bosh.healthmonitor.system.disk.ephemeral.percent{deployment:concourse-prod-worker}', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('max:bosh.healthmonitor.system.disk.ephemeral.percent{deployment:concourse-prod-worker}', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('max:bosh.healthmonitor.system.disk.ephemeral.percent{deployment:concourse-prod-worker}', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "toplist",
        "requests": [
          {
            "q": "top(max:bosh.healthmonitor.system.disk.ephemeral.percent{*} by {index, job, deployment}, 10, 'mean', 'desc')",
            "style": {
              "palette": "dog_classic"
            },
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": "<",
                "value": 65
              },
              {
                "palette": "white_on_red",
                "comparator": ">",
                "value": 75
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "value": 65
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "max",
      "y": 66,
      "x": 44
    },
    {
      "metric": "bosh.healthmonitor.system.disk.ephemeral.percent",
      "custom_unit": "%",
      "query": "max:bosh.healthmonitor.system.disk.ephemeral.percent{deployment:concourse-prod-worker}",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "max",
      "title_align": "left",
      "text_align": "center",
      "width": 44,
      "timeframe": "15m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [
        "deployment:concourse-prod-worker"
      ],
      "precision": 0,
      "title_text": "Top Persistent Disk usage (%) past 15 min",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 9,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('max:bosh.healthmonitor.system.disk.ephemeral.percent{deployment:concourse-prod-worker}', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('max:bosh.healthmonitor.system.disk.ephemeral.percent{deployment:concourse-prod-worker}', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('max:bosh.healthmonitor.system.disk.ephemeral.percent{deployment:concourse-prod-worker}', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "toplist",
        "requests": [
          {
            "q": "top(max:bosh.healthmonitor.system.disk.persistent.percent{*} by {index, job, deployment}, 10, 'mean', 'desc')",
            "style": {
              "palette": "dog_classic"
            },
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": "<",
                "value": 65
              },
              {
                "palette": "white_on_red",
                "comparator": ">",
                "value": 75
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "value": 65
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "max",
      "y": 78,
      "x": 44
    },
    {
      "metric": "bosh.healthmonitor.system.healthy",
      "custom_unit": "%",
      "query": "avg:bosh.healthmonitor.system.healthy{deployment:<%= bosh_deployment %>,job:bosh} *100",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 14,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [
        "deployment:<%= bosh_deployment %>",
        "job:bosh"
      ],
      "precision": 0,
      "title_text": "Bosh - 5m",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "conditional_formats": [
        {
          "invert": false,
          "comparator": "<",
          "value": <%= threshold_value('avg:bosh.healthmonitor.system.healthy{deployment:bosh_deployment,job:bosh} *100', 'white_on_red') %>,
          "palette": "white_on_red"
        },
        {
          "invert": false,
          "comparator": ">=",
          "value": <%= threshold_value('avg:bosh.healthmonitor.system.healthy{deployment:bosh_deployment,job:bosh} *100', 'white_on_green') %>,
          "palette": "white_on_green"
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:bosh.healthmonitor.system.healthy{deployment:<%= bosh_deployment %>,job:bosh} *100",
            "aggregator": "min",
            "conditional_formats": [
              {
                "invert": false,
                "comparator": "<",
                "value": 100,
                "palette": "white_on_red"
              },
              {
                "invert": false,
                "comparator": ">=",
                "value": 100,
                "palette": "white_on_green"
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 43,
      "x": 0
    },
    {
      "metric": "bosh.healthmonitor.system.healthy",
      "custom_unit": "%",
      "query": "avg:bosh.healthmonitor.system.healthy{deployment:<%= bosh_deployment %>,job:bosh} *100",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "center",
      "text_align": "center",
      "width": 9,
      "timeframe": "1d",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [
        "deployment:<%= bosh_deployment %>",
        "job:bosh"
      ],
      "precision": 0,
      "title_text": "Bosh - 24h",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "legend": false,
      "conditional_formats": [
        {
          "invert": false,
          "comparator": "<",
          "value": <%= threshold_value('avg:bosh.healthmonitor.system.healthy{deployment:bosh_deployment,job:bosh} *100', 'white_on_yellow') %>,
          "palette": "white_on_yellow"
        },
        {
          "invert": false,
          "comparator": ">=",
          "value": <%= threshold_value('avg:bosh.healthmonitor.system.healthy{deployment:bosh_deployment,job:bosh} *100', 'white_on_green') %>,
          "palette": "white_on_green"
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "%",
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:bosh.healthmonitor.system.healthy{deployment:<%= bosh_deployment %>,job:bosh} * 100",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "invert": false,
                "comparator": ">=",
                "value": 100,
                "palette": "white_on_green"
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "value": 96
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "value": 96
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 43,
      "x": 14
    },
    {
      "metric": "cloudops_tools.app_instance_monitor.router.dial.errors",
      "custom_unit": null,
      "query": "avg:cloudops_tools.app_instance_monitor.router.dial.errors{cf_component:false}",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "avg",
      "title_align": "center",
      "text_align": "center",
      "width": 12,
      "timeframe": "15m",
      "wrapped": true,
      "type": "query_value",
      "tags": [
        "cf_component:false"
      ],
      "precision": 0,
      "title_text": "Non-CF dial Error",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": true,
      "height": 5,
      "conditional_formats": [
        {
          "invert": false,
          "comparator": "<=",
          "value": <%= threshold_value('avg:cloudops_tools.app_instance_monitor.router.dial.errors{cf_component:false}', 'white_on_green') %>,
          "palette": "white_on_green"
        },
        {
          "invert": false,
          "comparator": ">",
          "value": <%= threshold_value('avg:cloudops_tools.app_instance_monitor.router.dial.errors{cf_component:false}', 'white_on_yellow') %>,
          "palette": "white_on_yellow"
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "autoscale": true,
        "custom_unit": null,
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:cloudops_tools.app_instance_monitor.router.dial.errors{cf_component:false}",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "invert": false,
                "comparator": "<=",
                "value": 30,
                "palette": "white_on_green"
              },
              {
                "invert": false,
                "comparator": ">",
                "value": 30,
                "palette": "white_on_yellow"
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 43,
      "x": 159
    },
    {
      "metric": "cloudops_tools.app_instance_monitor.router.dial.errors",
      "custom_unit": null,
      "query": "avg:cloudops_tools.app_instance_monitor.router.dial.errors{domain:<%= domain_url %>}",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "avg",
      "title_align": "center",
      "text_align": "center",
      "width": 12,
      "timeframe": "15m",
      "wrapped": true,
      "type": "query_value",
      "tags": [
        "domain:<%= domain_url %>"
      ],
      "precision": 0,
      "title_text": "CF dial Error",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": true,
      "height": 5,
      "conditional_formats": [
        {
          "invert": false,
          "comparator": "<",
          "value": <%= threshold_value('avg:cloudops_tools.app_instance_monitor.router.dial.errors{domain:domain_url}', 'white_on_green') %>,
          "palette": "white_on_green"
        },
        {
          "invert": false,
          "comparator": ">",
          "value": <%= threshold_value('avg:cloudops_tools.app_instance_monitor.router.dial.errors{domain:domain_url}', 'white_on_red') %>,
          "palette": "white_on_red"
        },
        {
          "invert": false,
          "comparator": ">=",
          "value": <%= threshold_value('avg:cloudops_tools.app_instance_monitor.router.dial.errors{domain:domain_url}', 'white_on_yellow') %>,
          "palette": "white_on_yellow"
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "autoscale": true,
        "custom_unit": null,
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:cloudops_tools.app_instance_monitor.router.dial.errors{domain:<%= domain_url %>}",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "invert": false,
                "comparator": "<",
                "value": 10,
                "palette": "white_on_green"
              },
              {
                "invert": false,
                "comparator": ">",
                "value": 30,
                "palette": "white_on_red"
              },
              {
                "invert": false,
                "comparator": ">=",
                "value": 10,
                "palette": "white_on_yellow"
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 36,
      "x": 159
    },
    {
      "metric": "cloudops_tools.etcd_leader_health",
      "custom_unit": "hrs",
      "query": "avg:cloudops_tools.etcd_leader_health{deployment:<%= deployment %>}",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "left",
      "width": 12,
      "timeframe": "5m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [
        "deployment:<%= deployment %>"
      ],
      "precision": 0,
      "title_text": "ETCD Leader Uptime",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 4,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('avg:cloudops_tools.etcd_leader_health{deployment:deployment}', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": "<=",
          "invert": false,
          "value": <%= threshold_value('avg:cloudops_tools.etcd_leader_health{deployment:deployment}', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "hrs",
        "text_align": "left",
        "precision": "0",
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:cloudops_tools.etcd_leader_health{deployment:<%= deployment %>}",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_yellow",
                "comparator": "<=",
                "invert": false,
                "value": 1,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "value": 0.9999999,
                "custom_bg_color": null,
                "palette": "white_on_green",
                "custom_fg_color": null,
                "comparator": ">"
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 66,
      "x": 0
    },
    {
      "metric": "cloudops_tools.ssh_abuse_monitor.ssh.attempts",
      "custom_unit": null,
      "query": "avg:cloudops_tools.ssh_abuse_monitor.ssh.attempts{*}",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "min",
      "title_align": "left",
      "text_align": "center",
      "width": 13,
      "timeframe": "15m",
      "wrapped": true,
      "type": "query_value",
      "tags": [

      ],
      "precision": 0,
      "title_text": "SSH Attempts - 15m",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": true,
      "height": 4,
      "conditional_formats": [
        {
          "invert": false,
          "comparator": "<",
          "value": <%= threshold_value('avg:cloudops_tools.ssh_abuse_monitor.ssh.attempts{*}', 'white_on_green') %>,
          "palette": "white_on_green"
        },
        {
          "invert": false,
          "comparator": ">",
          "value": <%= threshold_value('avg:cloudops_tools.ssh_abuse_monitor.ssh.attempts{*}', 'white_on_red') %>,
          "palette": "white_on_red"
        },
        {
          "invert": false,
          "comparator": ">=",
          "value": <%= threshold_value('avg:cloudops_tools.ssh_abuse_monitor.ssh.attempts{*}', 'white_on_yellow') %>,
          "palette": "white_on_yellow"
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "autoscale": true,
        "custom_unit": null,
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:cloudops_tools.ssh_abuse_monitor.ssh.attempts{*}",
            "aggregator": "min",
            "conditional_formats": [
              {
                "invert": false,
                "comparator": "<",
                "value": 20,
                "palette": "white_on_green"
              },
              {
                "invert": false,
                "comparator": ">",
                "value": 100,
                "palette": "white_on_red"
              },
              {
                "invert": false,
                "comparator": ">=",
                "value": 50,
                "palette": "white_on_yellow"
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 60,
      "x": 0
    },
    {
      "metric": "datadog.nozzle.bbs.Domain.cf_apps",
      "custom_unit": "/5m",
      "query": "avg:datadog.nozzle.bbs.Domain.cf_apps{deployment:<%= metron_agent_diego_deployment %>}",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "avg",
      "title_align": "center",
      "text_align": "center",
      "width": 21,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [
        "deployment:<%= deployment %>"
      ],
      "precision": "*",
      "title_text": "Domain 'cf-apps' Freshness - 5m avg",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 6,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('avg:datadog.nozzle.bbs.Domain.cf_apps{deployment:diego_deployment}', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('avg:datadog.nozzle.bbs.Domain.cf_apps{deployment:diego_deployment}', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": "<=",
          "invert": false,
          "value": <%= threshold_value('avg:datadog.nozzle.bbs.Domain.cf_apps{deployment:diego_deployment}', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "/5m",
        "text_align": "center",
        "precision": "*",
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:datadog.nozzle.bbs.Domain.cf_apps{deployment:<%= metron_agent_diego_deployment %>}",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 0.9,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 0.8,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": "<=",
                "invert": false,
                "value": 0.9,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 31,
      "x": 52
    },
    {
      "metric": "datadog.nozzle.bbs.ETCDWatchers",
      "custom_unit": null,
      "query": "avg:datadog.nozzle.bbs.ETCDWatchers{deployment:<%= metron_agent_diego_deployment %>}",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "center",
      "width": 11,
      "timeframe": "15m",
      "wrapped": true,
      "type": "query_value",
      "tags": [
        "deployment:<%= diego_deployment %>"
      ],
      "precision": 2,
      "title_text": "ETCD Watchers",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": true,
      "height": 6,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('avg:datadog.nozzle.bbs.ETCDWatchers{deployment:diego_deployment}', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('avg:datadog.nozzle.bbs.ETCDWatchers{deployment:diego_deployment}', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('avg:datadog.nozzle.bbs.ETCDWatchers{deployment:diego_deployment}', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "autoscale": true,
        "custom_unit": null,
        "text_align": "center",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:datadog.nozzle.bbs.ETCDWatchers{deployment:<%= metron_agent_diego_deployment %>}",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 3,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": ">",
                "invert": false,
                "value": 4,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "invert": false,
                "value": 4,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 54,
      "x": 24
    },
    {
      "metric": "datadog.nozzle.cc.requests.outstanding",
      "custom_unit": null,
      "query": "max:datadog.nozzle.cc.requests.outstanding{*}",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "center",
      "width": 22,
      "timeframe": "15m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 2,
      "title_text": "Max Response Queue Size - 10m",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": true,
      "height": 10,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('max:datadog.nozzle.cc.requests.outstanding{*}', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('max:datadog.nozzle.cc.requests.outstanding{*}', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('max:datadog.nozzle.cc.requests.outstanding{*}', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "autoscale": true,
        "custom_unit": null,
        "text_align": "center",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "max:datadog.nozzle.cc.requests.outstanding{*}",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "value": 10,
                "custom_bg_color": null,
                "palette": "white_on_red",
                "custom_fg_color": null,
                "comparator": ">"
              },
              {
                "value": 5,
                "custom_bg_color": null,
                "palette": "white_on_green",
                "custom_fg_color": null,
                "comparator": "<"
              },
              {
                "value": 5,
                "custom_bg_color": null,
                "palette": "white_on_yellow",
                "custom_fg_color": null,
                "comparator": ">="
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "max",
      "y": 79,
      "x": 22
    },
    {
      "metric": "diego.canary.app.instance",
      "custom_unit": null,
      "query": "sum:diego.canary.app.instance{deployment:<%= diego_deployment %>}",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "avg",
      "title_align": "center",
      "text_align": "center",
      "width": 16,
      "timeframe": "15m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [
        "deployment:<%= diego_deployment %>"
      ],
      "precision": 0,
      "title_text": "Diego Canaries - 15m avg",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": true,
      "height": 6,
      "legend": false,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('sum:diego.canary.app.instance{deployment:diego_deployment}', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('sum:diego.canary.app.instance{deployment:diego_deployment}', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": "<=",
          "invert": false,
          "value": <%= threshold_value('sum:diego.canary.app.instance{deployment:diego_deployment}', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "autoscale": true,
        "custom_unit": null,
        "text_align": "center",
        "precision": 0,
        "viz": "query_value",
        "requests": [
          {
            "q": "sum:diego.canary.app.instance{deployment:<%= diego_deployment %>}",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 15,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": "<=",
                "invert": false,
                "value": 19,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "value": 19.1,
                "custom_bg_color": null,
                "palette": "white_on_green",
                "custom_fg_color": null,
                "comparator": ">="
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "sum",
      "y": 47,
      "x": 35
    },
    {
      "metric": "natbox.pingout.health",
      "custom_unit": null,
      "query": "avg:natbox.pingout.health{*}",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "avg",
      "title_align": "center",
      "text_align": "center",
      "width": 14,
      "timeframe": "5m",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 1,
      "title_text": "NAT Box - 5m",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": true,
      "height": 4.000000158945717,
      "legend": false,
      "conditional_formats": [
        {
          "invert": false,
          "comparator": "<",
          "value": <%= threshold_value('avg:natbox.pingout.health{*}', 'white_on_red') %>,
          "palette": "white_on_red"
        },
        {
          "invert": false,
          "comparator": ">=",
          "value": <%= threshold_value('avg:natbox.pingout.health{*}', 'white_on_green') %>,
          "palette": "white_on_green"
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "autoscale": true,
        "custom_unit": null,
        "text_align": "center",
        "precision": "2",
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:natbox.pingout.health{*}",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "value": 0.99
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "value": 0.98
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "value": 0.98
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 48,
      "x": 0
    },
    {
      "metric": "natbox.pingout.health",
      "custom_unit": null,
      "query": "avg:natbox.pingout.health{*}",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "avg",
      "title_align": "center",
      "text_align": "center",
      "width": 9,
      "timeframe": "1d",
      "wrapped": true,
      "legend_size": "0",
      "type": "query_value",
      "tags": [

      ],
      "precision": 1,
      "title_text": "NAT box - 24h",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": true,
      "height": 4.000000158945717,
      "legend": false,
      "conditional_formats": [
        {
          "invert": false,
          "comparator": "<",
          "value": <%= threshold_value('avg:natbox.pingout.health{*}', 'white_on_red') %>,
          "palette": "white_on_red"
        },
        {
          "invert": false,
          "comparator": ">=",
          "value": <%= threshold_value('avg:natbox.pingout.health{*}', 'white_on_green') %>,
          "palette": "white_on_green"
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "autoscale": true,
        "custom_unit": null,
        "text_align": "center",
        "precision": "2",
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:natbox.pingout.health{*}",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "value": 0.99
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "value": 0.98
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "value": 0.98
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 48,
      "x": 14
    },
    {
      "metric": "new_relic.apdex.score",
      "custom_unit": null,
      "query": "avg:new_relic.apdex.score{application:webconsole_production}",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "left",
      "width": 11,
      "timeframe": "15m",
      "wrapped": true,
      "type": "query_value",
      "tags": [
        "application:webconsole_production"
      ],
      "precision": 2,
      "title_text": "Apdex - 15m",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": true,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('avg:new_relic.apdex.score{application:webconsole_production}', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('avg:new_relic.apdex.score{application:webconsole_production}', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": "<=",
          "invert": false,
          "value": <%= threshold_value('avg:new_relic.apdex.score{application:webconsole_production}', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "autoscale": true,
        "custom_unit": null,
        "text_align": "left",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:new_relic.apdex.score{application:webconsole_production}",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": "<",
                "invert": false,
                "value": 1,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 0.5,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": "<=",
                "invert": false,
                "value": 0.65,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 79,
      "x": 0
    },
    {
      "metric": "new_relic.errors.all.errors_per_minute",
      "custom_unit": null,
      "query": "avg:new_relic.errors.all.errors_per_minute{application:webconsole_production}",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "left",
      "width": 11,
      "timeframe": "15m",
      "wrapped": true,
      "type": "query_value",
      "tags": [
        "application:webconsole_production"
      ],
      "precision": 2,
      "title_text": "Error Rate - 15m",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": true,
      "height": 4,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": "<=",
          "invert": false,
          "value": <%= threshold_value('avg:new_relic.errors.all.errors_per_minute{application:webconsole_production}', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": ">",
          "invert": false,
          "value": <%= threshold_value('avg:new_relic.errors.all.errors_per_minute{application:webconsole_production}', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "autoscale": true,
        "custom_unit": null,
        "text_align": "left",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:new_relic.errors.all.errors_per_minute{application:webconsole_production}",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": "<=",
                "invert": false,
                "value": 0.41,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": ">",
                "invert": false,
                "value": 0.4,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 79,
      "x": 11
    },
    {
      "metric": "pws.circuit.cloud_controller_get",
      "custom_unit": null,
      "query": "avg:pws.circuit.cloud_controller_get{host:production}",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "left",
      "width": 22,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [
        "host:production"
      ],
      "precision": 2,
      "title_text": "CC GET Circuit",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": true,
      "height": 4,
      "conditional_formats": [
        {
          "invert": false,
          "comparator": "<",
          "value": <%= threshold_value('avg:pws.circuit.cloud_controller_get{host:production}', 'white_on_red') %>,
          "palette": "white_on_red"
        },
        {
          "invert": false,
          "comparator": ">=",
          "value": <%= threshold_value('avg:pws.circuit.cloud_controller_get{host:production}', 'white_on_green') %>,
          "palette": "white_on_green"
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "autoscale": true,
        "custom_unit": null,
        "text_align": "left",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:pws.circuit.cloud_controller_get{host:production}",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "invert": false,
                "comparator": "<",
                "value": 1,
                "palette": "white_on_red"
              },
              {
                "invert": false,
                "comparator": ">=",
                "value": 1,
                "palette": "white_on_green"
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 91,
      "x": 0
    },
    {
      "metric": "pws.circuit.loggregator",
      "custom_unit": null,
      "query": "avg:pws.circuit.loggregator{host:production}",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "left",
      "width": 22,
      "timeframe": "5m",
      "wrapped": true,
      "type": "query_value",
      "tags": [
        "host:production"
      ],
      "precision": 2,
      "title_text": "Console Loggregator Circuit",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": true,
      "height": 4,
      "conditional_formats": [
        {
          "invert": false,
          "comparator": "<",
          "value": <%= threshold_value('avg:pws.circuit.loggregator{host:production}', 'white_on_red') %>,
          "palette": "white_on_red"
        },
        {
          "invert": false,
          "comparator": ">=",
          "value": <%= threshold_value('avg:pws.circuit.loggregator{host:production}', 'white_on_green') %>,
          "palette": "white_on_green"
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "autoscale": true,
        "custom_unit": null,
        "text_align": "left",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:pws.circuit.loggregator{host:production}",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "invert": false,
                "comparator": "<",
                "value": 1,
                "palette": "white_on_red"
              },
              {
                "invert": false,
                "comparator": ">=",
                "value": 1,
                "palette": "white_on_green"
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 85,
      "x": 0
    },
    {
      "metric": "rabbitmq.smoke.status",
      "custom_unit": null,
      "query": "avg:rabbitmq.smoke.status{*}",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "left",
      "width": 12,
      "timeframe": "30m",
      "wrapped": true,
      "type": "query_value",
      "tags": [

      ],
      "precision": 2,
      "title_text": "RabbitMQ Service smoke test",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": true,
      "height": 6,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('avg:rabbitmq.smoke.status{*}', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('avg:rabbitmq.smoke.status{*}', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('avg:rabbitmq.smoke.status{*}', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "autoscale": true,
        "custom_unit": null,
        "text_align": "left",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:rabbitmq.smoke.status{*}",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 1,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 0.75,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "invert": false,
                "value": 0.75,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 56,
      "x": 134
    },
    {
      "metric": "smoke.status",
      "custom_unit": null,
      "query": "avg:smoke.status{deployment:<%= deployment %>,loggregator_enabled:0}",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "left",
      "width": 12,
      "timeframe": "30m",
      "wrapped": true,
      "type": "query_value",
      "tags": [
        "deployment:<%= deployment %>",
        "loggregator_enabled:0"
      ],
      "precision": 2,
      "title_text": "Runtime smoke test",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": true,
      "height": 5,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('avg:smoke.status{deployment:deployment,loggregator_enabled:0}', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('avg:smoke.status{deployment:deployment,loggregator_enabled:0}', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('avg:smoke.status{deployment:deployment,loggregator_enabled:0}', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "autoscale": true,
        "custom_unit": null,
        "text_align": "left",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:smoke.status{deployment:<%= deployment %>,loggregator_enabled:0}",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 1,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 0.75,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "invert": false,
                "value": 0.75,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 49,
      "x": 146
    },
    {
      "metric": "smoke.status",
      "custom_unit": null,
      "query": "avg:smoke.status{deployment:<%= deployment %>,loggregator_enabled:1}",
      "text_size": "auto",
      "title_size": 16,
      "title": true,
      "aggregator": "avg",
      "title_align": "left",
      "text_align": "left",
      "width": 12,
      "timeframe": "30m",
      "wrapped": true,
      "type": "query_value",
      "tags": [
        "deployment:<%= deployment %>",
        "loggregator_enabled:1"
      ],
      "precision": 2,
      "title_text": "Loggregator smoke test",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": true,
      "height": 5,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('avg:smoke.status{deployment:deployment,loggregator_enabled:1}', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_red",
          "comparator": "<",
          "invert": false,
          "value": <%= threshold_value('avg:smoke.status{deployment:deployment,loggregator_enabled:1}', 'white_on_red') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        },
        {
          "palette": "white_on_yellow",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('avg:smoke.status{deployment:deployment,loggregator_enabled:1}', 'white_on_yellow') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": true,
      "tile_def": {
        "autoscale": true,
        "custom_unit": null,
        "text_align": "left",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:smoke.status{deployment:<%= deployment %>,loggregator_enabled:1}",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 1,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_red",
                "comparator": "<",
                "invert": false,
                "value": 0.75,
                "custom_bg_color": null,
                "custom_fg_color": null
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "invert": false,
                "value": 0.75,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 49,
      "x": 134
    },
    {
      "metric": "system.load.1",
      "custom_unit": "/Hr",
      "query": "per_hour(datadog.nozzle.auctioneer.AuctioneerLRPAuctionsStarted{deployment:<%= metron_agent_diego_deployment %>})",
      "text_size": "auto",
      "title_size": 13,
      "title": true,
      "aggregator": "avg",
      "title_align": "center",
      "text_align": "center",
      "width": 21,
      "timeframe": "30m",
      "wrapped": true,
      "type": "query_value",
      "tags": [

      ],
      "precision": 2,
      "title_text": "LRP Auctions per Hour - 30m avg",
      "padding": 8,
      "calc_func": "raw",
      "metric_type": "standard",
      "autoscale": false,
      "height": 6,
      "conditional_formats": [
        {
          "palette": "white_on_green",
          "comparator": ">=",
          "invert": false,
          "value": <%= threshold_value('per_hour(datadog.nozzle.auctioneer.AuctioneerLRPAuctionsStarted{deployment:diego_deployment})', 'white_on_green') %>,
          "custom_bg_color": null,
          "custom_fg_color": null
        }
      ],
      "is_valid_query": false,
      "tile_def": {
        "autoscale": false,
        "custom_unit": "/Hr",
        "text_align": "center",
        "precision": 2,
        "viz": "query_value",
        "requests": [
          {
            "q": "per_hour(datadog.nozzle.auctioneer.AuctioneerLRPAuctionsStarted{deployment:<%= metron_agent_diego_deployment %>})",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": ">=",
                "invert": false,
                "value": 0,
                "custom_bg_color": null,
                "custom_fg_color": null
              }
            ]
          }
        ]
      },
      "res_calc_func": "raw",
      "aggr": "avg",
      "y": 47,
      "x": 52
    },
    {
      "sizing": "fit",
      "title_size": 16,
      "title": true,
      "url": "<%= health_screen_image %>",
      "margin": "",
      "title_align": "left",
      "title_text": "",
      "height": 25,
      "width": 27,
      "y": 0,
      "x": 169,
      "type": "image"
    },
    {
      "title_size": 13,
      "title": true,
      "title_align": "center",
      "title_text": "ETCD Raft Term",
      "height": 12,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "avg:datadog.nozzle.bbs.ETCDRaftTerm{deployment:<%= metron_agent_diego_deployment %>}"
          }
        ],
        "events": [
          {
            "q": "tags:deployment:<%= diego_deployment %> started deploying diego to <%= deployment %>"
          }
        ]
      },
      "width": 28,
      "timeframe": "1h",
      "y": 21,
      "x": 73,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 13,
      "title": true,
      "title_align": "left",
      "title_text": "Min. Avail. Memory by Cell - 1h",
      "height": 12,
      "tile_def": {
        "viz": "heatmap",
        "requests": [
          {
            "q": "(min:datadog.nozzle.rep.CapacityRemainingMemory{deployment:<%= metron_agent_diego_deployment %>} by {ip}) / 0.000001024"
          }
        ],
        "events": [
          {
            "q": "tags:deployment:<%= deployment %>-cf failed deploying cf to <%= deployment %>"
          },
          {
            "q": "tags:deployment:<%= deployment %>-cf finished deploying cf to <%= deployment %>"
          },
          {
            "q": "tags:deployment:<%= deployment %>-cf started deploying cf to <%= deployment %>"
          },
          {
            "q": "tags:deployment:<%= diego_deployment %> failed deploying diego to <%= deployment %>"
          },
          {
            "q": "tags:deployment:<%= diego_deployment %> finished deploying diego to <%= deployment %>"
          },
          {
            "q": "tags:deployment:<%= diego_deployment %> started deploying diego to <%= deployment %>"
          }
        ]
      },
      "width": 28,
      "timeframe": "1h",
      "y": 7,
      "x": 73,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 13,
      "title": true,
      "title_align": "left",
      "title_text": "Running Tasks and LRPs",
      "height": 12,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "avg:datadog.nozzle.bbs.LRPsDesired{deployment:<%= metron_agent_diego_deployment %>}",
            "type": "line"
          },
          {
            "q": "sum:datadog.nozzle.rep.ContainersActual{deployment:<%= metron_agent_diego_deployment %>}",
            "type": "line"
          },
          {
            "q": "sum:datadog.nozzle.rep.ContainersExpected{deployment:<%= metron_agent_diego_deployment %>}",
            "type": "line"
          }
        ],
        "events": [
          {
            "q": "tags:deployment:<%= deployment %> started deploying diego to <%= deployment %>"
          }
        ]
      },
      "width": 32,
      "timeframe": "1h",
      "y": 21,
      "x": 101,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 13,
      "title": true,
      "title_align": "left",
      "title_text": "Tasks",
      "height": 12,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "avg:datadog.nozzle.bbs.TasksClaimed{deployment:<%= metron_agent_diego_deployment %>}"
          },
          {
            "q": "avg:datadog.nozzle.bbs.TasksCompleted{deployment:<%= metron_agent_diego_deployment %>}"
          },
          {
            "q": "avg:datadog.nozzle.bbs.TasksPending{deployment:<%= metron_agent_diego_deployment %>}"
          },
          {
            "q": "avg:datadog.nozzle.bbs.TasksResolving{deployment:<%= metron_agent_diego_deployment %>}"
          }
        ],
        "events": [
          {
            "q": "tags:deployment:<%= diego_deployment %> started deploying diego to <%= deployment %>"
          }
        ]
      },
      "width": 29,
      "timeframe": "1h",
      "y": 49,
      "x": 88,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "color": "#4d4d4d",
      "text": "Backend Health",
      "title_align": "left",
      "text_align": "left",
      "title_text": "",
      "height": 6,
      "width": 24,
      "y": 25,
      "x": 0,
      "font_size": "auto",
      "type": "free_text"
    },
    {
      "title_size": 16,
      "title": true,
      "color": "#4d4d4d",
      "text": "CloudOps",
      "title_align": "left",
      "text_align": "left",
      "title_text": "",
      "height": 6,
      "width": 28,
      "y": 97,
      "x": 0,
      "font_size": "72",
      "type": "free_text"
    },
    {
      "title_size": 16,
      "title": true,
      "color": "#4d4d4d",
      "text": "Deployment Locks ",
      "title_align": "left",
      "text_align": "left",
      "title_text": "",
      "height": 7,
      "width": 28,
      "y": 66,
      "x": 90,
      "font_size": "24",
      "type": "free_text"
    },
    {
      "title_size": 16,
      "title": true,
      "color": "#4d4d4d",
      "text": "Diego Health",
      "title_align": "left",
      "text_align": "left",
      "title_text": "",
      "height": 5,
      "width": 24,
      "y": 0,
      "x": 134,
      "font_size": "auto",
      "type": "free_text"
    },
    {
      "title_size": 16,
      "title": true,
      "color": "#4d4d4d",
      "text": "Frontend Health",
      "title_align": "left",
      "text_align": "left",
      "title_text": "",
      "height": 6,
      "width": 24,
      "y": 1,
      "x": 0,
      "font_size": "auto",
      "type": "free_text"
    },
    {
      "title_size": 16,
      "title": true,
      "color": "#4d4d4d",
      "text": "Monit Uptime",
      "title_align": "left",
      "text_align": "left",
      "title_text": "",
      "height": 6,
      "width": 27,
      "y": 67,
      "x": 119,
      "font_size": "36",
      "type": "free_text"
    },
    {
      "title_size": 16,
      "title": true,
      "color": "#4d4d4d",
      "text": "NATS Traffic in Bytes",
      "title_align": "left",
      "text_align": "left",
      "title_text": "",
      "height": 6,
      "width": 24,
      "y": 92,
      "x": 108,
      "font_size": "auto",
      "type": "free_text"
    },
    {
      "title_size": 16,
      "title": true,
      "color": "#4d4d4d",
      "text": "Req / sec",
      "title_align": "left",
      "text_align": "left",
      "title_text": "",
      "height": 6,
      "width": 13,
      "y": 98,
      "x": 108,
      "font_size": "auto",
      "type": "free_text"
    },
    {
      "title_size": 16,
      "title": true,
      "color": "#4d4d4d",
      "text": "Smoke Tests",
      "title_align": "left",
      "text_align": "left",
      "title_text": "",
      "height": 5,
      "width": 24,
      "y": 44,
      "x": 134,
      "font_size": "auto",
      "type": "free_text"
    },
    {
      "title_size": 16,
      "title": true,
      "color": "#ec3",
      "text": "BO",
      "title_align": "left",
      "text_align": "left",
      "title_text": "",
      "height": 6,
      "width": 7,
      "y": 79,
      "x": 104,
      "font_size": "auto",
      "type": "free_text"
    },
    {
      "title_size": 16,
      "title": true,
      "color": "#ec3",
      "text": "CF",
      "title_align": "left",
      "text_align": "left",
      "title_text": "",
      "height": 6,
      "width": 7,
      "y": 73,
      "x": 90,
      "font_size": "auto",
      "type": "free_text"
    },
    {
      "title_size": 16,
      "title": true,
      "color": "#ec3",
      "text": "DG",
      "title_align": "left",
      "text_align": "left",
      "title_text": "",
      "height": 6,
      "width": 7,
      "y": 73,
      "x": 104,
      "font_size": "auto",
      "type": "free_text"
    },
    {
      "title_size": 16,
      "title": true,
      "color": "#ec3",
      "text": "MQ",
      "title_align": "left",
      "text_align": "left",
      "title_text": "",
      "height": 6,
      "width": 7,
      "y": 85,
      "x": 104,
      "font_size": "auto",
      "type": "free_text"
    },
    {
      "title_size": 16,
      "title": true,
      "color": "#ec3",
      "text": "RD",
      "title_align": "left",
      "text_align": "left",
      "title_text": "",
      "height": 6,
      "width": 7,
      "y": 85,
      "x": 90,
      "font_size": "auto",
      "type": "free_text"
    },
    {
      "title_size": 16,
      "title": true,
      "color": "#ec3",
      "text": "SQ",
      "title_align": "left",
      "text_align": "left",
      "title_text": "",
      "height": 6,
      "width": 7,
      "y": 79,
      "x": 90,
      "font_size": "auto",
      "type": "free_text"
    },
    {
      "title_size": 16,
      "title": true,
      "refresh_every": 30000,
      "tick_pos": "50%",
      "title_align": "left",
      "tick_edge": "left",
      "text_align": "center",
      "title_text": "",
      "height": 5.916666666666667,
      "bgcolor": "white",
      "html": "[UAA](/dash/dash/<%= lookup_note_asset(environment + ' Router and ELB health metrics', :dashboard) %>)",
      "y": 19,
      "x": 0,
      "font_size": "24",
      "tick": false,
      "type": "note",
      "width": 12,
      "auto_refresh": false
    },
    {
      "title_size": 16,
      "title": true,
      "refresh_every": 30000,
      "tick_pos": "50%",
      "title_align": "left",
      "tick_edge": "left",
      "text_align": "center",
      "title_text": "",
      "height": 6,
      "bgcolor": "white",
      "html": "[API](/dash/dash/<%= lookup_note_asset('cloud_controller_ng Event Machine statistics', :dashboard) %>)",
      "y": 13,
      "x": 0,
      "font_size": "24",
      "tick": false,
      "type": "note",
      "width": 12,
      "auto_refresh": false
    },
    {
      "title_size": 16,
      "title": true,
      "refresh_every": 30000,
      "tick_pos": "50%",
      "title_align": "left",
      "tick_edge": "left",
      "text_align": "center",
      "title_text": "",
      "height": 6,
      "bgcolor": "white",
      "html": "[Console](/dash/dash/<%= lookup_note_asset('cloud_controller_ng Event Machine statistics', :dashboard) %>)",
      "y": 73,
      "x": 0,
      "font_size": "24",
      "tick": false,
      "type": "note",
      "width": 44,
      "auto_refresh": false
    },
    {
      "title_size": 16,
      "title": true,
      "refresh_every": 30000,
      "tick_pos": "50%",
      "title_align": "left",
      "tick_edge": "left",
      "text_align": "center",
      "title_text": "",
      "height": 6,
      "bgcolor": "white",
      "html": "[Diego Status](/dash/dash/<%= lookup_note_asset(environment + ' Diego Health', :dashboard) %>)",
      "y": 1,
      "x": 44,
      "font_size": "36",
      "tick": false,
      "type": "note",
      "width": 81,
      "auto_refresh": false
    },
    {
      "title_size": 16,
      "title": true,
      "refresh_every": 30000,
      "tick_pos": "50%",
      "title_align": "left",
      "tick_edge": "left",
      "text_align": "center",
      "title_text": "",
      "height": 6,
      "bgcolor": "white",
      "html": "[Router Status](/dash/dash/<%= lookup_note_asset(environment + ' Router and ELB health metrics', :dashboard) %>)",
      "y": 25,
      "x": 159,
      "font_size": "36",
      "tick": false,
      "type": "note",
      "width": 44,
      "auto_refresh": false
    },
    {
      "title_size": 16,
      "title": true,
      "refresh_every": 30000,
      "tick_pos": "50%",
      "title_align": "left",
      "tick_edge": "left",
      "text_align": "center",
      "title_text": "",
      "height": 6,
      "bgcolor": "white",
      "html": "[Router](/dash/dash/<%= lookup_note_asset(environment + ' Router and ELB health metrics', :dashboard) %>)",
      "y": 7,
      "x": 0,
      "font_size": "24",
      "tick": false,
      "type": "note",
      "width": 12,
      "auto_refresh": false
    },
    {
      "title_size": 16,
      "title": true,
      "refresh_every": 30000,
      "tick_pos": "50%",
      "title_align": "left",
      "tick_edge": "top",
      "text_align": "center",
      "title_text": "",
      "height": 5,
      "bgcolor": "white",
      "html": "Router CPU",
      "y": 59,
      "x": 159,
      "font_size": "24",
      "tick": false,
      "type": "note",
      "width": 44,
      "auto_refresh": false
    },
    {
      "title_size": 16,
      "title": true,
      "refresh_every": 30000,
      "tick_pos": "50%",
      "title_align": "left",
      "tick_edge": "top",
      "text_align": "center",
      "title_text": "",
      "height": 5,
      "bgcolor": "white",
      "html": "[Router Dial Errors](/dash/dash/<%= lookup_note_asset('router dial error', :dashboard) %>)",
      "y": 31,
      "x": 159,
      "font_size": "24",
      "tick": false,
      "type": "note",
      "width": 44,
      "auto_refresh": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "",
      "height": 8,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "avg:aws.ec2.network_in{deployment:<%= deployment %>,job:nats_z1} by {index,job}",
            "type": "line"
          },
          {
            "q": "avg:aws.ec2.network_in{deployment:<%= deployment %>,job:nats_z2} by {index,job}",
            "type": "line"
          }
        ]
      },
      "width": 44,
      "timeframe": "1h",
      "y": 50,
      "x": 159,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "CPU Utilization (%) - 1h",
      "height": 12,
      "tile_def": {
        "viz": "heatmap",
        "requests": [
          {
            "q": "max:bosh.healthmonitor.system.cpu.user{deployment:<%= diego_deployment %>} by {job,index}",
            "style": {
              "palette": "warm"
            },
            "type": "line"
          }
        ]
      },
      "width": 28,
      "timeframe": "1h",
      "y": 35,
      "x": 73,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "CPU Utilization (%) - 1h",
      "height": 12,
      "tile_def": {
        "viz": "heatmap",
        "requests": [
          {
            "q": "max:bosh.healthmonitor.system.cpu.user{deployment:<%= deployment %>} by {job,index}",
            "style": {
              "palette": "warm"
            },
            "type": "line"
          }
        ],
        "events": [

        ]
      },
      "width": 32,
      "timeframe": "1h",
      "y": 35,
      "x": 101,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Diego App Instances - 2d",
      "height": 12,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "avg:datadog.nozzle.bbs.LRPsRunning{deployment:<%= metron_agent_diego_deployment %>}",
            "type": "line"
          }
        ]
      },
      "width": 32,
      "timeframe": "2d",
      "y": 7,
      "x": 101,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Pings to 4.2.2.1 in ms",
      "height": 13,
      "tile_def": {
        "viz": "heatmap",
        "requests": [
          {
            "q": "avg:cloudops_tools.ping_status{*} by {dest_ip,dest_port,src_ip,application_name,cf_instance_guid,cf_instance_addr,cf_instance_index} * 1000",
            "aggregator": "avg",
            "conditional_formats": [

            ]
          }
        ]
      },
      "width": 44,
      "timeframe": "4h",
      "y": 89,
      "x": 159,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Router CPU (%) -1h",
      "height": 9,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "bosh.healthmonitor.system.cpu.user{deployment:<%= deployment %>,job:router_z1}+bosh.healthmonitor.system.cpu.sys{deployment:<%= deployment %>,job:router_z1}+bosh.healthmonitor.system.cpu.wait{deployment:<%= deployment %>,job:router_z1} by {index}",
            "style": {
              "palette": "dog_classic"
            },
            "type": "line"
          },
          {
            "q": "bosh.healthmonitor.system.cpu.user{deployment:<%= deployment %>,job:router_z2}+bosh.healthmonitor.system.cpu.sys{deployment:<%= deployment %>,job:router_z2}+bosh.healthmonitor.system.cpu.wait{deployment:<%= deployment %>,job:router_z2} by {index}",
            "style": {
              "palette": "dog_classic"
            },
            "type": "line"
          }
        ],
        "events": [

        ]
      },
      "width": 44,
      "timeframe": "1h",
      "y": 64,
      "x": 159,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Total Routes - 2d",
      "height": 12,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "sum:datadog.nozzle.gorouter.total_routes{deployment:<%= metron_agent_deployment %>} by {job,index}",
            "type": "area",
            "stacked": false
          }
        ],
        "events": [
          {
            "q": "tags:deployment:<%= deployment %> started deploying."
          }
        ]
      },
      "width": 44,
      "timeframe": "2d",
      "y": 75,
      "x": 159,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "monit uptime in hours",
      "height": 14,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "min:cloudops_tools.monit_status_collector.uptime_in_seconds{*} by {job,index,deployment} / 3600",
            "style": {
              "width": "normal",
              "palette": "dog_classic"
            },
            "type": "line"
          }
        ],
        "events": [
          {
            "q": "begin update deployment"
          }
        ],
        "yaxis": {
          "scale": "pow0.25"
        }
      },
      "width": 27,
      "timeframe": "1h",
      "y": 73,
      "x": 119,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 20,
      "title": true,
      "title_align": "left",
      "title_text": "Router Bad Gateways - 4h",
      "height": 12,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "per_second(avg:datadog.nozzle.gorouter.bad_gateways{deployment:<%= metron_agent_deployment %>})"
          }
        ],
        "events": [
          {
            "q": "tags:deployment:<%= deployment %> finished deploying."
          },
          {
            "q": "tags:deployment:<%= deployment %> started deploying."
          }
        ]
      },
      "width": 32,
      "timeframe": "4h",
      "y": 36,
      "x": 171,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "x": 12,
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Unhealthy cells, 1hr",
      "height": 4,
      "tile_def": {
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:datadog.nozzle.rep.UnhealthyCell{deployment:<%= metron_agent_diego_deployment %>}",
            "aggregator": "max",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": "<=",
                "value": 0
              },
              {
                "palette": "white_on_red",
                "comparator": ">",
                "value": 0
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "value": null
              }
            ]
          }
        ],
        "precision": "0"
      },
      "width": 11,
      "timeframe": "1h",
      "y": 66,
      "autoscale": true,
      "legend_size": "0",
      "type": "query_value",
      "legend": false
    },
    {
      "x": 13,
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Stalled Gardens, 1 hr",
      "height": 4,
      "tile_def": {
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:datadog.nozzle.rep.StalledGardenDuration{deployment:<%= metron_agent_diego_deployment %>}",
            "aggregator": "max",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": "<=",
                "value": 0
              },
              {
                "palette": "white_on_red",
                "comparator": ">",
                "value": 10
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">",
                "value": 0
              }
            ]
          }
        ],
        "precision": "0"
      },
      "width": 10,
      "timeframe": "1d",
      "y": 60,
      "autoscale": true,
      "legend_size": "0",
      "type": "query_value",
      "legend": false
    },
    {
      "x": 33,
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "CCDB CPU",
      "height": 4,
      "tile_def": {
        "viz": "query_value",
        "requests": [
          {
            "q": "avg:aws.rds.cpuutilization{host:ccdb}",
            "aggregator": "avg",
            "conditional_formats": [
              {
                "palette": "white_on_green",
                "comparator": "<",
                "value": 60
              },
              {
                "palette": "white_on_red",
                "comparator": ">=",
                "value": 78
              },
              {
                "palette": "white_on_yellow",
                "comparator": ">=",
                "value": 60
              }
            ]
          }
        ]
      },
      "width": 11,
      "timeframe": "1h",
      "y": 91,
      "autoscale": true,
      "legend_size": "0",
      "type": "query_value",
      "legend": false
    }
  ],
  "width": "100%"
}
