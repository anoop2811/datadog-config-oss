{
  "board_title": "dea-monitor",
  "board_bgtype": "board_graph",
  "original_title": "dea-monitor",
  "height": 103,
  "width": "100%",
  "template_variables": [

  ],
  "templated": false,
  "widgets": [
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Reservable Stagers",
      "height": 23.000000158945713,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "sum:cf.collector.reservable_stagers{deployment:<%= deployment %>}"
          }
        ],
        "events": [

        ]
      },
      "width": 90,
      "timeframe": "2d",
      "y": 0.8333333333333334,
      "x": -3.9736429998290155e-08,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Percentage of Runners with >4 Reservable Stagers",
      "height": 26.000000158945713,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "cloudops_tools.dea_monitor.reservable_stagers_aggregate{*}*100"
          }
        ],
        "events": [

        ]
      },
      "width": 90,
      "timeframe": "2d",
      "y": 25.833337148030598,
      "x": 0.41666662693023665,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Current Distribution of Reservable Stagers By ip",
      "height": 19.916666825612385,
      "tile_def": {
        "viz": "distribution",
        "requests": [
          {
            "q": "min:cf.collector.reservable_stagers{*} by {ip}",
            "type": "area"
          }
        ],
        "events": [

        ]
      },
      "width": 90,
      "timeframe": "1h",
      "y": 53.666090647379555,
      "x": 0.6655093431472777,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "State of apps",
      "height": 13,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "sum:cf.collector.dea_registry_born{deployment:<%= deployment %>}"
          },
          {
            "q": "sum:cf.collector.dea_registry_running{deployment:<%= deployment %>}"
          },
          {
            "q": "sum:cf.collector.dea_registry_crashed{deployment:<%= deployment %>}"
          },
          {
            "q": "sum:cf.collector.dea_registry_deleted{deployment:<%= deployment %>}"
          },
          {
            "q": "sum:cf.collector.dea_registry_started{deployment:<%= deployment %>}"
          },
          {
            "q": "sum:cf.collector.dea_registry_stopped{deployment:<%= deployment %>}"
          },
          {
            "q": "sum:cf.collector.dea_registry_stopping{deployment:<%= deployment %>}"
          },
          {
            "q": "sum:cf.collector.dea_registry_starting{deployment:<%= deployment %>}"
          },
          {
            "q": "sum:cf.collector.dea_registry_resuming{deployment:<%= deployment %>}"
          }
        ],
        "events": [
          {
            "q": "tags:deployment:<%= environment %> start_deploy"
          },
          {
            "q": "tags:deployment:<%= environment %> end_deploy"
          }
        ]
      },
      "width": 47,
      "timeframe": "1h",
      "y": 0.9997113545735677,
      "x": 90.00000218550365,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Average of total DEAs ratio of memory available",
      "height": 13,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "avg:cf.collector.available_memory_ratio{deployment:<%= deployment %>,job:dea} by {ip}",
            "type": "area"
          }
        ],
        "events": [
          {
            "q": "tags:deployment:<%= environment %> start_deploy"
          }
        ]
      },
      "width": 47,
      "timeframe": "1h",
      "y": 15.999711354573568,
      "x": 90.00000218550365,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Average of total DEAs ratio of disk available",
      "height": 13,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "avg:cf.collector.available_disk_ratio{deployment:<%= deployment %>,job:dea} by {ip}",
            "type": "area"
          }
        ],
        "events": [
          {
            "q": "tags:deployment:<%= environment %> start_deploy"
          }
        ]
      },
      "width": 47,
      "timeframe": "1h",
      "y": 30.999713897705078,
      "x": 90.00000218550365,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "DEA User CPU",
      "height": 13,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "bosh.healthmonitor.system.cpu.user{deployment:<%= deployment %>,job:runner_z1} by {index}",
            "stacked": false
          },
          {
            "q": "bosh.healthmonitor.system.cpu.user{deployment:<%= deployment %>,job:runner_z2} by {index}",
            "stacked": false
          }
        ],
        "events": [
          {
            "q": "tags:deployment:<%= environment %> start_deploy"
          },
          {
            "q": "tags:deployment:<%= environment %> end_deploy"
          }
        ]
      },
      "width": 47,
      "timeframe": "1h",
      "y": 45.99971389770508,
      "x": 90.00000218550365,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "DEA System CPU",
      "height": 13,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "bosh.healthmonitor.system.cpu.sys{deployment:<%= deployment %>,job:runner_z1} by {index}",
            "stacked": false
          },
          {
            "q": "bosh.healthmonitor.system.cpu.sys{deployment:<%= deployment %>,job:runner_z2} by {index}",
            "stacked": false
          }
        ],
        "events": [
          {
            "q": "tags:deployment:<%= environment %> start_deploy"
          },
          {
            "q": "tags:deployment:<%= environment %> end_deploy"
          }
        ]
      },
      "width": 47,
      "timeframe": "1h",
      "y": 60.99971389770508,
      "x": 90.00000218550365,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Reserved Memory",
      "height": 13,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "avg:cf.collector.dea_registry_mem_reserved{deployment:<%= deployment %>} by {ip}"
          }
        ],
        "events": [
          {
            "q": "tags:deployment:<%= environment %> start_deploy"
          },
          {
            "q": "tags:deployment:<%= environment %> end_deploy"
          }
        ]
      },
      "width": 47,
      "timeframe": "1h",
      "y": 1,
      "x": 137,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Reserved Disk",
      "height": 13,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "avg:cf.collector.dea_registry_disk_reserved{deployment:<%= deployment %>} by {ip}"
          }
        ],
        "events": [
          {
            "q": "tags:deployment:<%= environment %> start_deploy"
          },
          {
            "q": "tags:deployment:<%= environment %> end_deploy"
          }
        ]
      },
      "width": 47,
      "timeframe": "1h",
      "y": 16,
      "x": 137,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "<%= environment %> CF: Average Warden Response Time to DEA",
      "height": 13,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "avg:cf.collector.total_warden_response_time_in_ms{deployment:<%= deployment %>} by {ip} / avg:cf.collector.warden_request_count{deployment:<%= deployment %>} by {ip}",
            "stacked": false
          }
        ],
        "events": [
          {
            "q": "tags:deployment:<%= environment %> start_deploy"
          },
          {
            "q": "tags:deployment:<%= environment %> end_deploy"
          }
        ]
      },
      "width": 47,
      "timeframe": "1h",
      "y": 31,
      "x": 137,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "App request roundtrip (ms) (4 hrs)",
      "height": 13,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "(avg:app_benchmarking.rest_of_time{deployment:<%= deployment %>} by {status})/1000000, (avg:app_benchmarking.time_in_gorouter{deployment:<%= deployment %>} by {status})/1000000, (avg:app_benchmarking.time_in_app{deployment:<%= deployment %>} by {status})/1000000",
            "type": "bars"
          },
          {
            "q": "ewma_20(avg:app_benchmarking.total_roundtrip{deployment:<%= deployment %>} by {status})/1000000",
            "style": {
              "palette": "warm"
            },
            "type": "line"
          }
        ],
        "outliers": "1%",
        "events": [
          {
            "q": "tags:deployment:<%= environment %> start_deploy"
          },
          {
            "q": "tags:deployment:<%= environment %> end_deploy"
          }
        ]
      },
      "width": 47,
      "timeframe": "4h",
      "y": 46,
      "x": 137,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "App Staging Failed",
      "height": 13,
      "tile_def": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "max:cloudops_tools.failed_stages.counts_per_5min{*}",
            "type": "line"
          }
        ],
        "events": [

        ]
      },
      "width": 47,
      "timeframe": "4h",
      "y": 61,
      "x": 137,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    },
    {
      "title_size": 16,
      "title": true,
      "title_align": "left",
      "title_text": "Current Distribution of Containers by IP",
      "height": 25,
      "tile_def": {
        "viz": "toplist",
        "requests": [
          {
            "q": "avg:cloudops_tools.app_instance_monitor.container_count{*} by {ip}"
          }
        ]
      },
      "width": 89,
      "timeframe": "1h",
      "y": 76,
      "x": 1,
      "legend_size": "0",
      "type": "timeseries",
      "legend": false
    }
  ],
  "shared": false,
  "id": 13996,
  "title_edited": false
}