{
  "graphs": [

    {
      "definition": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "sum:aws.elb.request_count{deployment:<%= deployment %>} by {availability-zone}"
          }
        ],
        "events": [
          <%= default_events_json %>
        ]
      },
      "title": "ELB req/sec"
    },

    {
      "definition": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "per_second(sum:cf.collector.router.requests{component:cloudcontroller,deployment:<%= deployment %>})"
          }
        ],
        "events": [
          <%= default_events_json %>
        ]
      },
      "title": "Cloud Controller req/sec"
    },

    {
      "definition": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "per_second(sum:cf.collector.router.requests{component:login,deployment:<%= deployment %>})"
          }
        ],
        "events": [
          <%= default_events_json %>
        ]
      },
      "title": "Login component req/sec"
    },

    {
      "definition": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "per_second(sum:cf.collector.router.requests{component:uaa,deployment:<%= deployment %>})"
          }
        ],
        "events": [
          <%= default_events_json %>
        ]
      },
      "title": "UAA req/sec"
    },

    {
      "definition": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "per_second(sum:cf.collector.router.requests{component:app,deployment:<%= deployment %>} by {dea})",
            "stacked": false
          }
        ],
        "events": [
          <%= default_events_json %>
        ]
      },
      "title": "DEA req/sec"
    },

    {
      "definition": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "max:cf.collector.router.total_routes{deployment:<%= deployment %>} by {ip} - min:cf.collector.router.total_routes{deployment:<%= deployment %>}",
            "stacked": false
          }
        ],
        "events": [<%= default_events_json %>]
      },
      "title": "Delta between each Router and min"
    },

    {
      "definition": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "sum:cf.collector.router.total_routes{deployment:<%= deployment %>} by {ip}",
            "stacked": false
          }
        ],
        "events": [<%= default_events_json %>]
      },
      "title": "Total Routes by Router"
    }

  ],

  "title": "<%= environment %> Request Rates",
  "description": "The request rates and routes of various components in the system."
}
