{
  "graphs": [
    {
      "definition": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "per_second(avg:cf.collector.router.responses{deployment:<%= deployment %>,status:4xx})"
          }
        ],
        "events": [<%= default_events_json %>]
      },
      "title": "4xx errors"
    },
    {
      "definition": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "per_second(avg:cf.collector.router.responses{deployment:<%= deployment %>,status:5xx})"
          }
        ],
        "events": [<%= default_events_json %>]
      },
      "title": "5xx errors"
    },
    {
      "definition": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "per_second(avg:cf.collector.router.responses{component:app,deployment:<%= deployment %>,status:4xx} by {dea_index})",
            "stacked": false
          }
        ],
        "events": [<%= default_events_json %>]
      },
      "title": "4xx errors per DEA"
    },
    {
      "definition": {
        "viz": "timeseries",
        "requests": [
          {
            "q": "per_second(avg:cf.collector.router.responses{component:app,deployment:<%= deployment %>,status:5xx} by {dea_index})",
            "stacked": false
          }
        ],
        "events": [<%= default_events_json %>]
      },
      "title": "5xx errors per DEA"
    }
  ],
  "title": "<%= environment %> 400/500 responses",
  "description": "Cumulative number of 4xx and 5xx responses served through the router"
}
